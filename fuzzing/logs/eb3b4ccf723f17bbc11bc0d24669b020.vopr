64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.232Z debug(compaction): 0: Transfer.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.232Z debug(compaction): 0: Transfer.ledger:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:06.232Z debug(compaction): 0: Transfer.code:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:06.232Z debug(compaction): 0: Transfer:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:06.232Z debug(compaction): 0: Transfer.expires_at:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.232Z debug(compaction): 0: TransferPending:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.232Z debug(compaction): 0: TransferPending.status:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.250Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:06.250Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:06.253Z debug(client_replies): 1: write_reply: wrote (client=20646316583567733131642247745484281958 request=150)
2026-01-23 20:17:06.256Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=40960 len=4096 unlocked
2026-01-23 20:17:06.256Z debug(journal): 0: write: view=1 slot=170 op=170 len=2320: d816d6e5350a40c2b2e747e52050a92f complete, marking clean
2026-01-23 20:17:06.256Z debug(replica): 0n: send_prepare_ok: op=170 checksum=d816d6e5350a40c2b2e747e52050a92f
2026-01-23 20:17:06.256Z debug(replica): 0n: sending prepare_ok to replica 2: PrepareOk{ .checksum=fcc9d27fa4591d8c5375f4827b6fcd96, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=a39aef5dd107e22c9c842c91d7e8e087, .prepare_checksum=d816d6e5350a40c2b2e747e52050a92f, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=170, .commit_min=157, .timestamp=1769199263024967683, .request=168, .operation=vsr.Operation(140) }
2026-01-23 20:17:06.256Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=bf7942e73708250c573574b6a95943b9, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=1b6098fdc4bde147aff5ba8d49081bd4, .request_checksum=74b7672b964cf2b7927620b4be63d3bd, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=172, .commit=171, .timestamp=1769199263181430974, .request=170, .operation=vsr.Operation(140) }
2026-01-23 20:17:06.256Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:06.256Z debug(replica): 2N: on_message: view=2 status=normal PrepareOk{ .checksum=fcc9d27fa4591d8c5375f4827b6fcd96, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=a39aef5dd107e22c9c842c91d7e8e087, .prepare_checksum=d816d6e5350a40c2b2e747e52050a92f, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=170, .commit_min=157, .timestamp=1769199263024967683, .request=168, .operation=vsr.Operation(140) }
2026-01-23 20:17:06.256Z debug(replica): 0n: repair_header: op=172 checksum=bf7942e73708250c573574b6a95943b9 (checksum dirty)
2026-01-23 20:17:06.256Z debug(journal): 0: set_header_as_dirty: op=172 checksum=bf7942e73708250c573574b6a95943b9
2026-01-23 20:17:06.256Z debug(replica): 2N: on_prepare_ok: not preparing op=170 checksum=d816d6e5350a40c2b2e747e52050a92f
2026-01-23 20:17:06.256Z debug(journal): 0: write: view=1 slot=172 op=172 len=2320: bf7942e73708250c573574b6a95943b9 starting
2026-01-23 20:17:06.256Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=180355072 len=4096 locked
2026-01-23 20:17:06.256Z debug(replica): 0n: on_repair: repairing journal op=172
2026-01-23 20:17:06.256Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=157)
2026-01-23 20:17:06.256Z debug(replica): 0n: repair_prepare: op=172 checksum=bf7942e73708250c573574b6a95943b9 (already writing)
2026-01-23 20:17:06.256Z debug(replica): 0n: repair_prepare: op=173 checksum=766b8db007599f79e569420ff910e151 replica=2 latency=844ms (committed, dirty, normal)
2026-01-23 20:17:06.256Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=2d37d9672a8283896b9f176fa1b909f0, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=766b8db007599f79e569420ff910e151, .prepare_op=173 }
2026-01-23 20:17:06.256Z debug(compaction): AccountEvent:0: beat_complete: quota_beat_done=22517 quota_beat=20537 quota_bar_done=26611 quota_bar=154694
2026-01-23 20:17:06.256Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:06.256Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:06.256Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=157)
2026-01-23 20:17:06.260Z debug(replica): 1n: execute_op: executing view=2 primary=false op=153 checksum=fcc7e5f5989b6467fd0f14168828cf6f (create_transfers)
2026-01-23 20:17:06.260Z debug(replica): 1n: execute_op: commit_timestamp=1769199232074153136 prepare.header.timestamp=1769199232148121099
2026-01-23 20:17:06.261Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=1b6098fdc4bde147aff5ba8d49081bd4, .checksum_body=421401a91eb00cdc4b29f4fa789143c5, .cluster=0, .size=923264, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=d816d6e5350a40c2b2e747e52050a92f, .request_checksum=f44082d1200cb15ccf209bf339fdc00e, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=171, .commit=170, .timestamp=1769199263103188769, .request=169, .operation=vsr.Operation(139) }
2026-01-23 20:17:06.261Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:06.261Z debug(replica): 0n: repair_header: op=171 checksum=1b6098fdc4bde147aff5ba8d49081bd4 (checksum dirty)
2026-01-23 20:17:06.261Z debug(journal): 0: set_header_as_dirty: op=171 checksum=1b6098fdc4bde147aff5ba8d49081bd4
2026-01-23 20:17:06.261Z debug(journal): 0: write: view=1 slot=171 op=171 len=923264: 1b6098fdc4bde147aff5ba8d49081bd4 starting
2026-01-23 20:17:06.261Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=179306496 len=925696 locked
2026-01-23 20:17:06.261Z debug(replica): 0n: on_repair: repairing journal op=171
2026-01-23 20:17:06.261Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=157)
2026-01-23 20:17:06.261Z debug(replica): 0n: repair_prepare: op=171 checksum=1b6098fdc4bde147aff5ba8d49081bd4 (already writing)
2026-01-23 20:17:06.261Z debug(replica): 0n: repair_prepare: op=172 checksum=bf7942e73708250c573574b6a95943b9 (already writing)
2026-01-23 20:17:06.261Z debug(replica): 0n: repair_prepare: op=174 checksum=8e23d062eb5c1f0c45ce2f5d50a4db35 replica=2 latency=694ms (committed, dirty, normal)
2026-01-23 20:17:06.261Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=1dae91f972e533cbc2c9c7f2e056ae20, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=8e23d062eb5c1f0c45ce2f5d50a4db35, .prepare_op=174 }
2026-01-23 20:17:06.261Z debug(replica): 0n: repair_prepare: op=175 checksum=544ddc095d1ec530b6cdac4529484c6a replica=1 latency=872ms (committed, dirty, normal)
2026-01-23 20:17:06.261Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=6542a1e692e2807ad935d66574f03d07, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=544ddc095d1ec530b6cdac4529484c6a, .prepare_op=175 }
2026-01-23 20:17:06.261Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:06.261Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:06.261Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=157)
2026-01-23 20:17:06.261Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=d816d6e5350a40c2b2e747e52050a92f, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=a39aef5dd107e22c9c842c91d7e8e087, .request_checksum=cc86de71e62bea4b5a1f09829b7a9510, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=170, .commit=169, .timestamp=1769199263024967683, .request=168, .operation=vsr.Operation(140) }
2026-01-23 20:17:06.261Z warning(replica): 0n: on_prepare: not replicating op=170 commit_min=157 present=true
2026-01-23 20:17:06.261Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:06.261Z debug(replica): 0n: on_repair: ignoring (duplicate)
2026-01-23 20:17:06.261Z debug(replica): 0n: send_prepare_ok: op=170 checksum=d816d6e5350a40c2b2e747e52050a92f
2026-01-23 20:17:06.261Z debug(replica): 0n: sending prepare_ok to replica 2: PrepareOk{ .checksum=fcc9d27fa4591d8c5375f4827b6fcd96, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=a39aef5dd107e22c9c842c91d7e8e087, .prepare_checksum=d816d6e5350a40c2b2e747e52050a92f, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=170, .commit_min=157, .timestamp=1769199263024967683, .request=168, .operation=vsr.Operation(140) }
2026-01-23 20:17:06.262Z debug(client_replies): 0: write_reply: wrote (client=20646316583567733131642247745484281958 request=155)
2026-01-23 20:17:06.262Z debug(compaction): AccountEvent:0: beat_complete: quota_beat_done=20470 quota_beat=19966 quota_bar_done=128961 quota_bar=154694
2026-01-23 20:17:06.269Z debug(replica): 1n: client_table_entry_update: client=20646316583567733131642247745484281958 session=2 request=151
2026-01-23 20:17:06.269Z debug(forest): entering forest.compact() op=153 constants.lsm_compaction_ops=32 first_beat=false last_half_beat=false half_beat=false last_beat=false
2026-01-23 20:17:06.269Z debug(compaction): 1: Account.id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.269Z debug(compaction): 1: Account.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.269Z debug(compaction): 1: Account.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.269Z debug(compaction): 1: Account.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.269Z debug(compaction): 1: Account.ledger:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.269Z debug(compaction): 1: Account.code:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.269Z debug(compaction): 1: Account:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.269Z debug(compaction): 1: Transfer.id:0: beat_commence: bar quota=155075 fulfilled, done=155075
2026-01-23 20:17:06.269Z debug(compaction): 1: Transfer.debit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:06.269Z debug(compaction): 1: Transfer.credit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:06.269Z debug(compaction): 1: Transfer.amount:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:06.269Z debug(compaction): 1: Transfer.pending_id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.269Z debug(compaction): 1: Transfer.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.269Z debug(compaction): 1: Transfer.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.269Z debug(compaction): 1: Transfer.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.269Z debug(compaction): 1: Transfer.ledger:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:06.269Z debug(compaction): 1: Transfer.code:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:06.269Z debug(compaction): 1: Transfer:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:06.269Z debug(compaction): 1: Transfer.expires_at:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.269Z debug(compaction): 1: TransferPending:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.269Z debug(compaction): 1: TransferPending.status:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.270Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:06.270Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:06.277Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=180355072 len=4096 unlocked
2026-01-23 20:17:06.277Z debug(journal): 0: write_header: op=172 sectors[40960..45056]
2026-01-23 20:17:06.277Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=40960 len=4096 locked
2026-01-23 20:17:06.277Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=179306496 len=925696 unlocked
2026-01-23 20:17:06.277Z debug(journal): 0: write_header: op=171 sectors[40960..45056]
2026-01-23 20:17:06.277Z debug(replica): 0n: execute_op: executing view=2 primary=false op=158 checksum=657ffb6bec99163f01414e55d9c45d12 (lookup_accounts)
2026-01-23 20:17:06.277Z debug(replica): 0n: execute_op: commit_timestamp=1769199237714065475 prepare.header.timestamp=1769199240301771635
2026-01-23 20:17:06.277Z debug(replica): 0n: client_table_entry_update: client=20646316583567733131642247745484281958 session=2 request=156
2026-01-23 20:17:06.277Z debug(replica): 0n: execute_op: replying to client: Reply{ .checksum=8fabf31b13d892aa23402c023cd9963b, .checksum_body=aa2da6bcd06c7e1acd9502962fe6e269, .cluster=0, .size=16768, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=5794fabb77352a1bf9894c052dd9346d, .context=837774c6c5cd1220bc647690534de062, .client=20646316583567733131642247745484281958, .op=158, .commit=158, .timestamp=1769199240301771635, .request=156, .operation=vsr.Operation(140) }
2026-01-23 20:17:06.277Z debug(replica): 0n: sending reply to client 20646316583567733131642247745484281958: Reply{ .checksum=196e83a8a193dfa315b9450e20059264, .checksum_body=aa2da6bcd06c7e1acd9502962fe6e269, .cluster=0, .size=16768, .epoch=0, .view=2, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=5794fabb77352a1bf9894c052dd9346d, .context=837774c6c5cd1220bc647690534de062, .client=20646316583567733131642247745484281958, .op=158, .commit=158, .timestamp=1769199240301771635, .request=156, .operation=vsr.Operation(140) }
2026-01-23 20:17:06.277Z debug(forest): entering forest.compact() op=158 constants.lsm_compaction_ops=32 first_beat=false last_half_beat=false half_beat=false last_beat=false
2026-01-23 20:17:06.277Z debug(compaction): 0: Account.id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.277Z debug(compaction): 0: Account.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.277Z debug(compaction): 0: Account.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.277Z debug(compaction): 0: Account.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.277Z debug(compaction): 0: Account.ledger:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.277Z debug(compaction): 0: Account.code:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.277Z debug(compaction): 0: Account:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.277Z debug(compaction): 0: Transfer.id:0: beat_commence: bar quota=155075 fulfilled, done=155075
2026-01-23 20:17:06.277Z debug(compaction): 0: Transfer.debit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:06.277Z debug(compaction): 0: Transfer.credit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:06.277Z debug(compaction): 0: Transfer.amount:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:06.277Z debug(compaction): 0: Transfer.pending_id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.277Z debug(compaction): 0: Transfer.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.277Z debug(compaction): 0: Transfer.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.277Z debug(compaction): 0: Transfer.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:06.277Z debug(compaction): 0: Transfer.ledger:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:06.293Z debug(replica): 1n: on_message: view=2 status=normal RequestPrepare{ .checksum=6542a1e692e2807ad935d66574f03d07, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=544ddc095d1ec530b6cdac4529484c6a, .prepare_op=175 }
2026-01-23 20:17:06.290Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:08.396Z debug(compaction): 0: Transfer.code:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.396Z debug(compaction): 0: Transfer:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.396Z debug(compaction): 0: Transfer.expires_at:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.396Z debug(compaction): 0: TransferPending:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.396Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:08.396Z debug(compaction): 0: TransferPending.status:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.396Z debug(client_replies): 1: write_reply: wrote (client=20646316583567733131642247745484281958 request=151)
2026-01-23 20:17:08.396Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=2d37d9672a8283896b9f176fa1b909f0, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=766b8db007599f79e569420ff910e151, .prepare_op=173 }
2026-01-23 20:17:08.396Z debug(vsr): 1: journal_repair_budget_timeout fired
2026-01-23 20:17:08.396Z debug(vsr): 1: journal_repair_budget_timeout reset
2026-01-23 20:17:08.396Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=1dae91f972e533cbc2c9c7f2e056ae20, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=8e23d062eb5c1f0c45ce2f5d50a4db35, .prepare_op=174 }
2026-01-23 20:17:08.396Z debug(replica): 2N: on_message: view=2 status=normal PrepareOk{ .checksum=fcc9d27fa4591d8c5375f4827b6fcd96, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=a39aef5dd107e22c9c842c91d7e8e087, .prepare_checksum=d816d6e5350a40c2b2e747e52050a92f, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=170, .commit_min=157, .timestamp=1769199263024967683, .request=168, .operation=vsr.Operation(140) }
2026-01-23 20:17:08.396Z debug(replica): 2N: on_prepare_ok: not preparing op=170 checksum=d816d6e5350a40c2b2e747e52050a92f
2026-01-23 20:17:08.396Z debug(compaction): AccountEvent:0: beat_complete: quota_beat_done=20470 quota_beat=20254 quota_bar_done=47081 quota_bar=154694
2026-01-23 20:17:08.402Z debug(replica): 2N: on_request_prepare_read: op=173 checksum=766b8db007599f79e569420ff910e151 sending to replica=0
2026-01-23 20:17:08.402Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=766b8db007599f79e569420ff910e151, .checksum_body=f2e9a7eba3b9a72cec269b34e88ce32e, .cluster=0, .size=867968, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=bf7942e73708250c573574b6a95943b9, .request_checksum=10e2fb44759c7fc829747c49fb5342eb, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=173, .commit=172, .timestamp=1769199263242518951, .request=171, .operation=vsr.Operation(139) }
2026-01-23 20:17:08.402Z debug(replica): 2N: on_request_prepare_read: op=174 checksum=8e23d062eb5c1f0c45ce2f5d50a4db35 sending to replica=0
2026-01-23 20:17:08.402Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=8e23d062eb5c1f0c45ce2f5d50a4db35, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=766b8db007599f79e569420ff910e151, .request_checksum=3cb8359889a1f33e12ce920906a802d1, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=174, .commit=173, .timestamp=1769199265293783679, .request=172, .operation=vsr.Operation(140) }
2026-01-23 20:17:08.404Z debug(replica): 1n: on_request_prepare_read: op=175 checksum=544ddc095d1ec530b6cdac4529484c6a sending to replica=0
2026-01-23 20:17:08.404Z debug(replica): 1n: sending prepare to replica 0: Prepare{ .checksum=544ddc095d1ec530b6cdac4529484c6a, .checksum_body=72ca848290ae221939a237bedd091dcb, .cluster=0, .size=763648, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=8e23d062eb5c1f0c45ce2f5d50a4db35, .request_checksum=56cffcd1c0131aaddef31953a7c0e9fc, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=175, .commit=174, .timestamp=1769199265351803841, .request=173, .operation=vsr.Operation(139) }
2026-01-23 20:17:08.405Z debug(replica): 1n: execute_op: executing view=2 primary=false op=154 checksum=09bacc35e461c2e9a7e0b5d9e7abf9eb (lookup_accounts)
2026-01-23 20:17:08.405Z debug(replica): 1n: execute_op: commit_timestamp=1769199232148121099 prepare.header.timestamp=1769199234897354025
2026-01-23 20:17:08.405Z debug(replica): 1n: client_table_entry_update: client=20646316583567733131642247745484281958 session=2 request=152
2026-01-23 20:17:08.405Z debug(replica): 1n: execute_op: replying to client: Reply{ .checksum=aab3bdaae3e0470baa47a6abfb577cd6, .checksum_body=aae6522bd7245bcf65519ab54711029a, .cluster=0, .size=16768, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=fe1286bc4229fff9bba71d2993ee476e, .context=9985272255bcd51ffa6a8b95a5bbd1e5, .client=20646316583567733131642247745484281958, .op=154, .commit=154, .timestamp=1769199234897354025, .request=152, .operation=vsr.Operation(140) }
2026-01-23 20:17:08.405Z debug(replica): 1n: sending reply to client 20646316583567733131642247745484281958: Reply{ .checksum=b427934e6fa7a13948038d165dd6ec0c, .checksum_body=aae6522bd7245bcf65519ab54711029a, .cluster=0, .size=16768, .epoch=0, .view=2, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=fe1286bc4229fff9bba71d2993ee476e, .context=9985272255bcd51ffa6a8b95a5bbd1e5, .client=20646316583567733131642247745484281958, .op=154, .commit=154, .timestamp=1769199234897354025, .request=152, .operation=vsr.Operation(140) }
2026-01-23 20:17:08.405Z debug(forest): entering forest.compact() op=154 constants.lsm_compaction_ops=32 first_beat=false last_half_beat=false half_beat=false last_beat=false
2026-01-23 20:17:08.405Z debug(compaction): 1: Account.id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.405Z debug(compaction): 1: Account.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.405Z debug(compaction): 1: Account.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.405Z debug(compaction): 1: Account.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.405Z debug(compaction): 1: Account.ledger:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.405Z debug(compaction): 1: Account.code:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.405Z debug(compaction): 1: Account:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.405Z debug(compaction): 1: Transfer.id:0: beat_commence: bar quota=155075 fulfilled, done=155075
2026-01-23 20:17:08.405Z debug(compaction): 1: Transfer.debit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.405Z debug(compaction): 1: Transfer.credit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.405Z debug(compaction): 1: Transfer.amount:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.405Z debug(compaction): 1: Transfer.pending_id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.405Z debug(compaction): 1: Transfer.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.405Z debug(compaction): 1: Transfer.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.405Z debug(compaction): 1: Transfer.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.405Z debug(compaction): 1: Transfer.ledger:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.405Z debug(compaction): 1: Transfer.code:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.405Z debug(compaction): 1: Transfer:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.405Z debug(compaction): 1: Transfer.expires_at:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.405Z debug(compaction): 1: TransferPending:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.405Z debug(compaction): 1: TransferPending.status:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.416Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:08.416Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:08.416Z debug(vsr): 2: journal_repair_timeout fired
2026-01-23 20:17:08.416Z debug(vsr): 2: journal_repair_timeout reset
2026-01-23 20:17:08.416Z debug(vsr): 2: pulse_timeout fired
2026-01-23 20:17:08.416Z debug(vsr): 2: pulse_timeout reset
2026-01-23 20:17:08.420Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=40960 len=4096 unlocked
2026-01-23 20:17:08.420Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=40960 len=4096 locked
2026-01-23 20:17:08.420Z debug(journal): 0: write: view=1 slot=172 op=172 len=2320: bf7942e73708250c573574b6a95943b9 complete, marking clean
2026-01-23 20:17:08.420Z debug(replica): 0n: send_prepare_ok: op=172 checksum=bf7942e73708250c573574b6a95943b9
2026-01-23 20:17:08.420Z debug(replica): 0n: sending prepare_ok to replica 2: PrepareOk{ .checksum=805f74a6edb2f071c93dc8e1036f8a39, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=1b6098fdc4bde147aff5ba8d49081bd4, .prepare_checksum=bf7942e73708250c573574b6a95943b9, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=172, .commit_min=158, .timestamp=1769199263181430974, .request=170, .operation=vsr.Operation(140) }
2026-01-23 20:17:08.420Z debug(replica): 2N: on_message: view=2 status=normal PrepareOk{ .checksum=805f74a6edb2f071c93dc8e1036f8a39, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=1b6098fdc4bde147aff5ba8d49081bd4, .prepare_checksum=bf7942e73708250c573574b6a95943b9, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=172, .commit_min=158, .timestamp=1769199263181430974, .request=170, .operation=vsr.Operation(140) }
2026-01-23 20:17:08.420Z debug(replica): 2N: on_prepare_ok: not preparing op=172 checksum=bf7942e73708250c573574b6a95943b9
2026-01-23 20:17:08.424Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=1b6098fdc4bde147aff5ba8d49081bd4, .checksum_body=421401a91eb00cdc4b29f4fa789143c5, .cluster=0, .size=923264, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=d816d6e5350a40c2b2e747e52050a92f, .request_checksum=f44082d1200cb15ccf209bf339fdc00e, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=171, .commit=170, .timestamp=1769199263103188769, .request=169, .operation=vsr.Operation(139) }
2026-01-23 20:17:08.424Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:08.424Z debug(replica): 0n: repair_header: op=171 checksum=1b6098fdc4bde147aff5ba8d49081bd4 (checksum dirty)
2026-01-23 20:17:08.424Z debug(journal): 0: set_header_as_dirty: op=171 checksum=1b6098fdc4bde147aff5ba8d49081bd4
2026-01-23 20:17:08.424Z debug(replica): 0n: write_prepare: ignoring op=171 checksum=1b6098fdc4bde147aff5ba8d49081bd4 (already writing exact)
2026-01-23 20:17:08.428Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=766b8db007599f79e569420ff910e151, .checksum_body=f2e9a7eba3b9a72cec269b34e88ce32e, .cluster=0, .size=867968, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=bf7942e73708250c573574b6a95943b9, .request_checksum=10e2fb44759c7fc829747c49fb5342eb, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=173, .commit=172, .timestamp=1769199263242518951, .request=171, .operation=vsr.Operation(139) }
2026-01-23 20:17:08.428Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:08.428Z debug(replica): 0n: repair_header: op=173 checksum=766b8db007599f79e569420ff910e151 (checksum dirty)
2026-01-23 20:17:08.428Z debug(journal): 0: set_header_as_dirty: op=173 checksum=766b8db007599f79e569420ff910e151
2026-01-23 20:17:08.428Z debug(journal): 0: write: view=1 slot=173 op=173 len=867968: 766b8db007599f79e569420ff910e151 starting
2026-01-23 20:17:08.428Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=181403648 len=868352 locked
2026-01-23 20:17:08.428Z debug(replica): 0n: on_repair: repairing journal op=173
2026-01-23 20:17:08.428Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=158)
2026-01-23 20:17:08.428Z debug(replica): 0n: repair_prepare: op=171 checksum=1b6098fdc4bde147aff5ba8d49081bd4 (already writing)
2026-01-23 20:17:08.428Z debug(replica): 0n: repair_prepare: op=173 checksum=766b8db007599f79e569420ff910e151 (already writing)
2026-01-23 20:17:08.428Z debug(replica): 0n: repair_prepare: op=174 checksum=8e23d062eb5c1f0c45ce2f5d50a4db35 replica=1 latency=1150ms (committed, dirty, normal)
2026-01-23 20:17:08.428Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=1dae91f972e533cbc2c9c7f2e056ae20, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=8e23d062eb5c1f0c45ce2f5d50a4db35, .prepare_op=174 }
2026-01-23 20:17:08.428Z debug(replica): 0n: repair_prepare: op=175 checksum=544ddc095d1ec530b6cdac4529484c6a replica=2 latency=990ms (committed, dirty, normal)
2026-01-23 20:17:08.428Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=6542a1e692e2807ad935d66574f03d07, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=544ddc095d1ec530b6cdac4529484c6a, .prepare_op=175 }
2026-01-23 20:17:08.428Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:08.428Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:08.428Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=158)
2026-01-23 20:17:08.428Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=6542a1e692e2807ad935d66574f03d07, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=544ddc095d1ec530b6cdac4529484c6a, .prepare_op=175 }
2026-01-23 20:17:08.428Z debug(client_replies): 0: write_reply: wrote (client=20646316583567733131642247745484281958 request=156)
2026-01-23 20:17:08.428Z debug(compaction): AccountEvent:0: beat_complete: quota_beat_done=20470 quota_beat=19713 quota_bar_done=149431 quota_bar=154694
2026-01-23 20:17:08.429Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=40960 len=4096 unlocked
2026-01-23 20:17:08.429Z debug(journal): 0: write: view=1 slot=171 op=171 len=923264: 1b6098fdc4bde147aff5ba8d49081bd4 complete, marking clean
2026-01-23 20:17:08.429Z debug(replica): 0n: send_prepare_ok: op=171 checksum=1b6098fdc4bde147aff5ba8d49081bd4
2026-01-23 20:17:08.429Z debug(replica): 0n: sending prepare_ok to replica 2: PrepareOk{ .checksum=2de643b0c6d01a5a4d3613b4c1571b50, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=d816d6e5350a40c2b2e747e52050a92f, .prepare_checksum=1b6098fdc4bde147aff5ba8d49081bd4, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=171, .commit_min=158, .timestamp=1769199263103188769, .request=169, .operation=vsr.Operation(139) }
2026-01-23 20:17:08.429Z debug(replica): 2N: on_message: view=2 status=normal PrepareOk{ .checksum=2de643b0c6d01a5a4d3613b4c1571b50, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=d816d6e5350a40c2b2e747e52050a92f, .prepare_checksum=1b6098fdc4bde147aff5ba8d49081bd4, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=171, .commit_min=158, .timestamp=1769199263103188769, .request=169, .operation=vsr.Operation(139) }
2026-01-23 20:17:08.429Z debug(replica): 2N: on_prepare_ok: not preparing op=171 checksum=1b6098fdc4bde147aff5ba8d49081bd4
2026-01-23 20:17:08.429Z debug(replica): 1n: on_message: view=2 status=normal RequestPrepare{ .checksum=1dae91f972e533cbc2c9c7f2e056ae20, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=8e23d062eb5c1f0c45ce2f5d50a4db35, .prepare_op=174 }
2026-01-23 20:17:08.429Z debug(client_replies): 1: write_reply: wrote (client=20646316583567733131642247745484281958 request=152)
2026-01-23 20:17:08.430Z debug(replica): 1n: on_request_prepare_read: op=174 checksum=8e23d062eb5c1f0c45ce2f5d50a4db35 sending to replica=0
2026-01-23 20:17:08.430Z debug(replica): 1n: sending prepare to replica 0: Prepare{ .checksum=8e23d062eb5c1f0c45ce2f5d50a4db35, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=766b8db007599f79e569420ff910e151, .request_checksum=3cb8359889a1f33e12ce920906a802d1, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=174, .commit=173, .timestamp=1769199265293783679, .request=172, .operation=vsr.Operation(140) }
2026-01-23 20:17:08.433Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=766b8db007599f79e569420ff910e151, .checksum_body=f2e9a7eba3b9a72cec269b34e88ce32e, .cluster=0, .size=867968, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=bf7942e73708250c573574b6a95943b9, .request_checksum=10e2fb44759c7fc829747c49fb5342eb, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=173, .commit=172, .timestamp=1769199263242518951, .request=171, .operation=vsr.Operation(139) }
2026-01-23 20:17:08.433Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:08.433Z debug(replica): 0n: repair_header: op=173 checksum=766b8db007599f79e569420ff910e151 (checksum dirty)
2026-01-23 20:17:08.433Z debug(journal): 0: set_header_as_dirty: op=173 checksum=766b8db007599f79e569420ff910e151
2026-01-23 20:17:08.433Z debug(replica): 0n: write_prepare: ignoring op=173 checksum=766b8db007599f79e569420ff910e151 (already writing exact)
2026-01-23 20:17:08.433Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=8e23d062eb5c1f0c45ce2f5d50a4db35, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=766b8db007599f79e569420ff910e151, .request_checksum=3cb8359889a1f33e12ce920906a802d1, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=174, .commit=173, .timestamp=1769199265293783679, .request=172, .operation=vsr.Operation(140) }
2026-01-23 20:17:08.433Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:08.433Z debug(replica): 0n: repair_header: op=174 checksum=8e23d062eb5c1f0c45ce2f5d50a4db35 (checksum dirty)
2026-01-23 20:17:08.433Z debug(journal): 0: set_header_as_dirty: op=174 checksum=8e23d062eb5c1f0c45ce2f5d50a4db35
2026-01-23 20:17:08.433Z debug(journal): 0: write: view=1 slot=174 op=174 len=2320: 8e23d062eb5c1f0c45ce2f5d50a4db35 starting
2026-01-23 20:17:08.433Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=182452224 len=4096 locked
2026-01-23 20:17:08.433Z debug(replica): 0n: on_repair: repairing journal op=174
2026-01-23 20:17:08.433Z debug(replica): 2N: on_request_prepare_read: op=175 checksum=544ddc095d1ec530b6cdac4529484c6a sending to replica=0
2026-01-23 20:17:08.433Z debug(replica): 0n: commit_journal: already committing (start; commit_min=158)
2026-01-23 20:17:08.433Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=544ddc095d1ec530b6cdac4529484c6a, .checksum_body=72ca848290ae221939a237bedd091dcb, .cluster=0, .size=763648, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=8e23d062eb5c1f0c45ce2f5d50a4db35, .request_checksum=56cffcd1c0131aaddef31953a7c0e9fc, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=175, .commit=174, .timestamp=1769199265351803841, .request=173, .operation=vsr.Operation(139) }
2026-01-23 20:17:08.433Z debug(replica): 0n: repair_prepare: op=173 checksum=766b8db007599f79e569420ff910e151 (already writing)
2026-01-23 20:17:08.433Z debug(replica): 0n: repair_prepare: op=174 checksum=8e23d062eb5c1f0c45ce2f5d50a4db35 (already writing)
2026-01-23 20:17:08.433Z debug(replica): 0n: repair_prepare: op=176 checksum=047a16efd95787f20b207a94410cdd45 replica=1 latency=921ms (committed, dirty, normal)
2026-01-23 20:17:08.433Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=aeec5a6969f4c3d664dc2713c01727b7, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=047a16efd95787f20b207a94410cdd45, .prepare_op=176 }
2026-01-23 20:17:08.433Z debug(compaction): AccountEvent:0: beat_complete: quota_beat_done=20470 quota_beat=20218 quota_bar_done=67551 quota_bar=154694
2026-01-23 20:17:08.433Z debug(replica): 0n: repair_prepare: op=177 checksum=5448b306d961e5901d9925ad9c319c2e replica=2 latency=1226ms (committed, dirty, normal)
2026-01-23 20:17:08.433Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=a4e85824d9c71c846e4a1fd1cadf220c, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=5448b306d961e5901d9925ad9c319c2e, .prepare_op=177 }
2026-01-23 20:17:08.433Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:08.433Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:08.433Z debug(replica): 0n: commit_journal: already committing (start; commit_min=158)
2026-01-23 20:17:08.433Z debug(replica): 1n: on_message: view=2 status=normal RequestPrepare{ .checksum=aeec5a6969f4c3d664dc2713c01727b7, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=047a16efd95787f20b207a94410cdd45, .prepare_op=176 }
2026-01-23 20:17:08.434Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=a4e85824d9c71c846e4a1fd1cadf220c, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=5448b306d961e5901d9925ad9c319c2e, .prepare_op=177 }
2026-01-23 20:17:08.437Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=544ddc095d1ec530b6cdac4529484c6a, .checksum_body=72ca848290ae221939a237bedd091dcb, .cluster=0, .size=763648, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=8e23d062eb5c1f0c45ce2f5d50a4db35, .request_checksum=56cffcd1c0131aaddef31953a7c0e9fc, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=175, .commit=174, .timestamp=1769199265351803841, .request=173, .operation=vsr.Operation(139) }
2026-01-23 20:17:08.437Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:08.437Z debug(replica): 0n: repair_header: op=175 checksum=544ddc095d1ec530b6cdac4529484c6a (checksum dirty)
2026-01-23 20:17:08.437Z debug(journal): 0: set_header_as_dirty: op=175 checksum=544ddc095d1ec530b6cdac4529484c6a
2026-01-23 20:17:08.437Z debug(journal): 0: write: view=1 slot=175 op=175 len=763648: 544ddc095d1ec530b6cdac4529484c6a starting
2026-01-23 20:17:08.437Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=183500800 len=765952 locked
2026-01-23 20:17:08.437Z debug(replica): 0n: on_repair: repairing journal op=175
2026-01-23 20:17:08.437Z debug(replica): 0n: commit_journal: already committing (start; commit_min=158)
2026-01-23 20:17:08.437Z debug(replica): 0n: repair_prepare: op=173 checksum=766b8db007599f79e569420ff910e151 (already writing)
2026-01-23 20:17:08.437Z debug(replica): 0n: repair_prepare: op=174 checksum=8e23d062eb5c1f0c45ce2f5d50a4db35 (already writing)
2026-01-23 20:17:08.437Z debug(replica): 0n: repair_prepare: op=175 checksum=544ddc095d1ec530b6cdac4529484c6a (already writing)
2026-01-23 20:17:08.437Z debug(replica): 0n: repair_prepare: op=176 checksum=047a16efd95787f20b207a94410cdd45 replica=2 latency=983ms (committed, dirty, normal)
2026-01-23 20:17:08.437Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=aeec5a6969f4c3d664dc2713c01727b7, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=047a16efd95787f20b207a94410cdd45, .prepare_op=176 }
2026-01-23 20:17:08.437Z debug(replica): 0n: repair_prepare: op=177 checksum=5448b306d961e5901d9925ad9c319c2e replica=1 latency=1172ms (committed, dirty, normal)
2026-01-23 20:17:08.437Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=a4e85824d9c71c846e4a1fd1cadf220c, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=5448b306d961e5901d9925ad9c319c2e, .prepare_op=177 }
2026-01-23 20:17:08.437Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:08.437Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:08.437Z debug(replica): 0n: commit_journal: already committing (start; commit_min=158)
2026-01-23 20:17:08.438Z debug(replica): 1n: execute_op: executing view=2 primary=false op=155 checksum=b169c79e455740f6bfbd7a931a8bc60b (create_transfers)
2026-01-23 20:17:08.438Z debug(replica): 1n: execute_op: commit_timestamp=1769199234897354025 prepare.header.timestamp=1769199234967884172
2026-01-23 20:17:08.439Z debug(replica): 2N: on_request_prepare_read: op=177 checksum=5448b306d961e5901d9925ad9c319c2e sending to replica=0
2026-01-23 20:17:08.439Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=5448b306d961e5901d9925ad9c319c2e, .checksum_body=f2df2f5777d792cf469ff499c15e7840, .cluster=0, .size=854656, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=047a16efd95787f20b207a94410cdd45, .request_checksum=e9a3837122f87a7002ea02dfa69f1b88, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=177, .commit=176, .timestamp=1769199267712685111, .request=175, .operation=vsr.Operation(139) }
2026-01-23 20:17:08.439Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=aeec5a6969f4c3d664dc2713c01727b7, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=047a16efd95787f20b207a94410cdd45, .prepare_op=176 }
2026-01-23 20:17:08.440Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:08.440Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:08.440Z debug(replica): 2N: on_request_prepare_read: op=176 checksum=047a16efd95787f20b207a94410cdd45 sending to replica=0
2026-01-23 20:17:08.440Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=047a16efd95787f20b207a94410cdd45, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=544ddc095d1ec530b6cdac4529484c6a, .request_checksum=62bb4c71c9dedd3e4d234a1d311c273c, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=176, .commit=175, .timestamp=1769199265426792564, .request=174, .operation=vsr.Operation(140) }
2026-01-23 20:17:08.440Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=181403648 len=868352 unlocked
2026-01-23 20:17:08.440Z debug(journal): 0: write_header: op=173 sectors[40960..45056]
2026-01-23 20:17:08.440Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=40960 len=4096 locked
2026-01-23 20:17:08.440Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=8e23d062eb5c1f0c45ce2f5d50a4db35, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=766b8db007599f79e569420ff910e151, .request_checksum=3cb8359889a1f33e12ce920906a802d1, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=174, .commit=173, .timestamp=1769199265293783679, .request=172, .operation=vsr.Operation(140) }
2026-01-23 20:17:08.440Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:08.440Z debug(replica): 0n: repair_header: op=174 checksum=8e23d062eb5c1f0c45ce2f5d50a4db35 (checksum dirty)
2026-01-23 20:17:08.440Z debug(journal): 0: set_header_as_dirty: op=174 checksum=8e23d062eb5c1f0c45ce2f5d50a4db35
2026-01-23 20:17:08.440Z debug(replica): 0n: write_prepare: ignoring op=174 checksum=8e23d062eb5c1f0c45ce2f5d50a4db35 (already writing exact)
2026-01-23 20:17:08.441Z debug(replica): 0n: execute_op: executing view=2 primary=false op=159 checksum=2e249290f52680d75719c13f85199c87 (create_transfers)
2026-01-23 20:17:08.441Z debug(replica): 0n: execute_op: commit_timestamp=1769199240301771635 prepare.header.timestamp=1769199243160093490
2026-01-23 20:17:08.449Z debug(replica): 1n: client_table_entry_update: client=20646316583567733131642247745484281958 session=2 request=153
2026-01-23 20:17:08.449Z debug(forest): entering forest.compact() op=155 constants.lsm_compaction_ops=32 first_beat=false last_half_beat=false half_beat=false last_beat=false
2026-01-23 20:17:08.449Z debug(compaction): 1: Account.id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.449Z debug(compaction): 1: Account.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.449Z debug(compaction): 1: Account.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.449Z debug(compaction): 1: Account.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.449Z debug(compaction): 1: Account.ledger:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.449Z debug(compaction): 1: Account.code:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.449Z debug(compaction): 1: Account:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.449Z debug(compaction): 1: Transfer.id:0: beat_commence: bar quota=155075 fulfilled, done=155075
2026-01-23 20:17:08.449Z debug(compaction): 1: Transfer.debit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.449Z debug(compaction): 1: Transfer.credit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.449Z debug(compaction): 1: Transfer.amount:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.449Z debug(compaction): 1: Transfer.pending_id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.449Z debug(compaction): 1: Transfer.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.449Z debug(compaction): 1: Transfer.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.449Z debug(compaction): 1: Transfer.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.449Z debug(compaction): 1: Transfer.ledger:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.449Z debug(compaction): 1: Transfer.code:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.449Z debug(compaction): 1: Transfer:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.449Z debug(compaction): 1: Transfer.expires_at:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.449Z debug(compaction): 1: TransferPending:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.449Z debug(compaction): 1: TransferPending.status:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.452Z debug(replica): 0n: client_table_entry_update: client=20646316583567733131642247745484281958 session=2 request=157
2026-01-23 20:17:08.452Z debug(replica): 0n: execute_op: replying to client: Reply{ .checksum=8a42df0abf28dd781f8fa5cdfa72a2c9, .checksum_body=aab1f475e69a8848cfee9d8e2ce06b89, .cluster=0, .size=272, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=d69500169b35c845ee1bb56dabaa6d18, .context=afd9db707438e9c45046fa8aac283be3, .client=20646316583567733131642247745484281958, .op=159, .commit=159, .timestamp=1769199243160093490, .request=157, .operation=vsr.Operation(139) }
2026-01-23 20:17:08.452Z debug(replica): 0n: sending reply to client 20646316583567733131642247745484281958: Reply{ .checksum=5229de9b4ead142fb22075d749d2f2a6, .checksum_body=aab1f475e69a8848cfee9d8e2ce06b89, .cluster=0, .size=272, .epoch=0, .view=2, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=d69500169b35c845ee1bb56dabaa6d18, .context=afd9db707438e9c45046fa8aac283be3, .client=20646316583567733131642247745484281958, .op=159, .commit=159, .timestamp=1769199243160093490, .request=157, .operation=vsr.Operation(139) }
2026-01-23 20:17:08.452Z debug(forest): entering forest.compact() op=159 constants.lsm_compaction_ops=32 first_beat=false last_half_beat=false half_beat=false last_beat=true
2026-01-23 20:17:08.452Z debug(manifest_log): 0: flush: writing 0 block(s)
2026-01-23 20:17:08.453Z debug(compaction): 0: Account.id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.453Z debug(compaction): 0: Account.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.453Z debug(compaction): 0: Account.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.453Z debug(compaction): 0: Account.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.453Z debug(compaction): 0: Account.ledger:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.453Z debug(compaction): 0: Account.code:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.453Z debug(compaction): 0: Account:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.453Z debug(compaction): 0: Transfer.id:0: beat_commence: bar quota=155075 fulfilled, done=155075
2026-01-23 20:17:08.453Z debug(compaction): 0: Transfer.debit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.453Z debug(compaction): 0: Transfer.credit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.453Z debug(compaction): 0: Transfer.amount:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.453Z debug(compaction): 0: Transfer.pending_id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.453Z debug(compaction): 0: Transfer.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.453Z debug(compaction): 0: Transfer.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.453Z debug(compaction): 0: Transfer.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.453Z debug(compaction): 0: Transfer.ledger:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.453Z debug(compaction): 0: Transfer.code:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.453Z debug(compaction): 0: Transfer:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.453Z debug(compaction): 0: Transfer.expires_at:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.453Z debug(compaction): 0: TransferPending:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.453Z debug(compaction): 0: TransferPending.status:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.459Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=182452224 len=4096 unlocked
2026-01-23 20:17:08.459Z debug(journal): 0: write_header: op=174 sectors[40960..45056]
2026-01-23 20:17:08.459Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=183500800 len=765952 unlocked
2026-01-23 20:17:08.459Z debug(journal): 0: write_header: op=175 sectors[40960..45056]
2026-01-23 20:17:08.460Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:08.460Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:08.463Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=544ddc095d1ec530b6cdac4529484c6a, .checksum_body=72ca848290ae221939a237bedd091dcb, .cluster=0, .size=763648, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=8e23d062eb5c1f0c45ce2f5d50a4db35, .request_checksum=56cffcd1c0131aaddef31953a7c0e9fc, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=175, .commit=174, .timestamp=1769199265351803841, .request=173, .operation=vsr.Operation(139) }
2026-01-23 20:17:08.463Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:08.463Z debug(replica): 0n: repair_header: op=175 checksum=544ddc095d1ec530b6cdac4529484c6a (checksum dirty)
2026-01-23 20:17:08.463Z debug(journal): 0: set_header_as_dirty: op=175 checksum=544ddc095d1ec530b6cdac4529484c6a
2026-01-23 20:17:08.463Z debug(replica): 0n: write_prepare: ignoring op=175 checksum=544ddc095d1ec530b6cdac4529484c6a (already writing exact)
2026-01-23 20:17:08.463Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=40960 len=4096 unlocked
2026-01-23 20:17:08.463Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=40960 len=4096 locked
2026-01-23 20:17:08.463Z debug(journal): 0: write: view=1 slot=173 op=173 len=867968: 766b8db007599f79e569420ff910e151 complete, marking clean
2026-01-23 20:17:08.463Z debug(replica): 0n: send_prepare_ok: op=173 checksum=766b8db007599f79e569420ff910e151
2026-01-23 20:17:08.463Z debug(replica): 0n: sending prepare_ok to replica 2: PrepareOk{ .checksum=d85d31b5f38e50d7071e14b11adab802, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=bf7942e73708250c573574b6a95943b9, .prepare_checksum=766b8db007599f79e569420ff910e151, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=173, .commit_min=159, .timestamp=1769199263242518951, .request=171, .operation=vsr.Operation(139) }
2026-01-23 20:17:08.463Z debug(client_replies): 0: write_reply: wrote (client=20646316583567733131642247745484281958 request=157)
2026-01-23 20:17:08.463Z debug(compaction): AccountEvent:0: beat_complete: quota_beat_done=5263 quota_beat=5263 quota_bar_done=154694 quota_bar=154694
2026-01-23 20:17:08.463Z debug(compaction): 0: Account.id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.463Z debug(compaction): 0: Account.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.463Z debug(compaction): 0: Account.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.463Z debug(compaction): 0: Account.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.463Z debug(compaction): 0: Account.ledger:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.463Z debug(compaction): 0: Account.code:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.463Z debug(compaction): 0: Account:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.463Z debug(compaction): 0: Transfer.id:0: beat_commence: bar quota=155075 fulfilled, done=155075
2026-01-23 20:17:08.463Z debug(compaction): 0: Transfer.debit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.463Z debug(compaction): 0: Transfer.credit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.463Z debug(compaction): 0: Transfer.amount:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.463Z debug(compaction): 0: Transfer.pending_id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.463Z debug(compaction): 0: Transfer.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.463Z debug(compaction): 0: Transfer.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.463Z debug(replica): 2N: on_message: view=2 status=normal PrepareOk{ .checksum=d85d31b5f38e50d7071e14b11adab802, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=bf7942e73708250c573574b6a95943b9, .prepare_checksum=766b8db007599f79e569420ff910e151, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=173, .commit_min=159, .timestamp=1769199263242518951, .request=171, .operation=vsr.Operation(139) }
2026-01-23 20:17:08.463Z debug(compaction): 0: Transfer.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.463Z debug(compaction): 0: Transfer.ledger:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.463Z debug(compaction): 0: Transfer.code:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.463Z debug(compaction): 0: Transfer:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.463Z debug(replica): 2N: on_prepare_ok: not preparing op=173 checksum=766b8db007599f79e569420ff910e151
2026-01-23 20:17:08.463Z debug(compaction): 0: Transfer.expires_at:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.463Z debug(compaction): 0: TransferPending:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.463Z debug(compaction): 0: TransferPending.status:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.463Z debug(compaction): 0: AccountEvent:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.463Z debug(compaction): 0: Account.imported:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.463Z debug(compaction): 0: Transfer.imported:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.463Z debug(compaction): 0: Account.closed:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.463Z debug(compaction): 0: Transfer.closing:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.463Z debug(compaction): 0: AccountEvent.account_timestamp:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.474Z debug(replica): 1n: on_request_prepare_read: op=176 checksum=047a16efd95787f20b207a94410cdd45 sending to replica=0
2026-01-23 20:17:08.474Z debug(replica): 1n: sending prepare to replica 0: Prepare{ .checksum=047a16efd95787f20b207a94410cdd45, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=544ddc095d1ec530b6cdac4529484c6a, .request_checksum=62bb4c71c9dedd3e4d234a1d311c273c, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=176, .commit=175, .timestamp=1769199265426792564, .request=174, .operation=vsr.Operation(140) }
2026-01-23 20:17:08.474Z debug(client_replies): 1: write_reply: wrote (client=20646316583567733131642247745484281958 request=153)
2026-01-23 20:17:08.474Z debug(vsr): 1: journal_repair_budget_timeout fired
2026-01-23 20:17:08.474Z debug(vsr): 1: journal_repair_budget_timeout reset
2026-01-23 20:17:08.474Z debug(replica): 1n: on_message: view=2 status=normal RequestPrepare{ .checksum=a4e85824d9c71c846e4a1fd1cadf220c, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=5448b306d961e5901d9925ad9c319c2e, .prepare_op=177 }
2026-01-23 20:17:08.479Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=047a16efd95787f20b207a94410cdd45, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=544ddc095d1ec530b6cdac4529484c6a, .request_checksum=62bb4c71c9dedd3e4d234a1d311c273c, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=176, .commit=175, .timestamp=1769199265426792564, .request=174, .operation=vsr.Operation(140) }
2026-01-23 20:17:08.479Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:08.479Z debug(replica): 0n: repair_header: op=176 checksum=047a16efd95787f20b207a94410cdd45 (checksum dirty)
2026-01-23 20:17:08.479Z debug(journal): 0: set_header_as_dirty: op=176 checksum=047a16efd95787f20b207a94410cdd45
2026-01-23 20:17:08.479Z debug(journal): 0: write: view=1 slot=176 op=176 len=2320: 047a16efd95787f20b207a94410cdd45 starting
2026-01-23 20:17:08.479Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=184549376 len=4096 locked
2026-01-23 20:17:08.479Z debug(replica): 0n: on_repair: repairing journal op=176
2026-01-23 20:17:08.479Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=159)
2026-01-23 20:17:08.479Z debug(replica): 0n: repair_prepare: op=174 checksum=8e23d062eb5c1f0c45ce2f5d50a4db35 (already writing)
2026-01-23 20:17:08.479Z debug(replica): 0n: repair_prepare: op=175 checksum=544ddc095d1ec530b6cdac4529484c6a (already writing)
2026-01-23 20:17:08.479Z debug(replica): 0n: repair_prepare: op=176 checksum=047a16efd95787f20b207a94410cdd45 (already writing)
2026-01-23 20:17:08.479Z debug(replica): 0n: repair_prepare: op=178 checksum=a07db07e0681d4823a08d8aed726cf59 replica=2 latency=794ms (committed, dirty, normal)
2026-01-23 20:17:08.479Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=3f589fc745d52b7ee9a99e4f1d0cafec, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=a07db07e0681d4823a08d8aed726cf59, .prepare_op=178 }
2026-01-23 20:17:08.479Z debug(replica): 0n: repair_prepare: op=179 checksum=044acab73ef5696fe3eb79791e8671d8 replica=1 latency=947ms (committed, dirty, normal)
2026-01-23 20:17:08.479Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=904b53d693de50053d40801676ef8aed, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=044acab73ef5696fe3eb79791e8671d8, .prepare_op=179 }
2026-01-23 20:17:08.479Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:08.479Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:08.479Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=159)
2026-01-23 20:17:08.479Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=40960 len=4096 unlocked
2026-01-23 20:17:08.479Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=40960 len=4096 locked
2026-01-23 20:17:08.479Z debug(journal): 0: write: view=1 slot=174 op=174 len=2320: 8e23d062eb5c1f0c45ce2f5d50a4db35 complete, marking clean
2026-01-23 20:17:08.479Z debug(replica): 0n: send_prepare_ok: op=174 checksum=8e23d062eb5c1f0c45ce2f5d50a4db35
2026-01-23 20:17:08.479Z debug(replica): 0n: sending prepare_ok to replica 2: PrepareOk{ .checksum=1db405c0c5ac1ec6675819041275e430, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=766b8db007599f79e569420ff910e151, .prepare_checksum=8e23d062eb5c1f0c45ce2f5d50a4db35, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=174, .commit_min=159, .timestamp=1769199265293783679, .request=172, .operation=vsr.Operation(140) }
2026-01-23 20:17:08.479Z debug(replica): 1n: on_request_prepare_read: op=177 checksum=5448b306d961e5901d9925ad9c319c2e sending to replica=0
2026-01-23 20:17:08.479Z debug(replica): 1n: sending prepare to replica 0: Prepare{ .checksum=5448b306d961e5901d9925ad9c319c2e, .checksum_body=f2df2f5777d792cf469ff499c15e7840, .cluster=0, .size=854656, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=047a16efd95787f20b207a94410cdd45, .request_checksum=e9a3837122f87a7002ea02dfa69f1b88, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=177, .commit=176, .timestamp=1769199267712685111, .request=175, .operation=vsr.Operation(139) }
2026-01-23 20:17:08.479Z debug(compaction): AccountEvent:0: beat_complete: quota_beat_done=20470 quota_beat=20168 quota_bar_done=88021 quota_bar=154694
2026-01-23 20:17:08.479Z debug(replica): 1n: on_message: view=2 status=normal RequestPrepare{ .checksum=904b53d693de50053d40801676ef8aed, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=044acab73ef5696fe3eb79791e8671d8, .prepare_op=179 }
2026-01-23 20:17:08.480Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:08.480Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:08.483Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=5448b306d961e5901d9925ad9c319c2e, .checksum_body=f2df2f5777d792cf469ff499c15e7840, .cluster=0, .size=854656, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=047a16efd95787f20b207a94410cdd45, .request_checksum=e9a3837122f87a7002ea02dfa69f1b88, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=177, .commit=176, .timestamp=1769199267712685111, .request=175, .operation=vsr.Operation(139) }
2026-01-23 20:17:08.483Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:08.483Z debug(replica): 0n: repair_header: op=177 checksum=5448b306d961e5901d9925ad9c319c2e (checksum dirty)
2026-01-23 20:17:08.483Z debug(journal): 0: set_header_as_dirty: op=177 checksum=5448b306d961e5901d9925ad9c319c2e
2026-01-23 20:17:08.483Z debug(journal): 0: write: view=1 slot=177 op=177 len=854656: 5448b306d961e5901d9925ad9c319c2e starting
2026-01-23 20:17:08.483Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=185597952 len=856064 locked
2026-01-23 20:17:08.483Z debug(replica): 0n: on_repair: repairing journal op=177
2026-01-23 20:17:08.483Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=159)
2026-01-23 20:17:08.483Z debug(replica): 0n: repair_prepare: op=175 checksum=544ddc095d1ec530b6cdac4529484c6a (already writing)
2026-01-23 20:17:08.483Z debug(replica): 0n: repair_prepare: op=176 checksum=047a16efd95787f20b207a94410cdd45 (already writing)
2026-01-23 20:17:08.483Z debug(replica): 0n: repair_prepare: op=177 checksum=5448b306d961e5901d9925ad9c319c2e (already writing)
2026-01-23 20:17:08.483Z debug(replica): 0n: repair_prepare: op=178 checksum=a07db07e0681d4823a08d8aed726cf59 replica=1 latency=767ms (committed, dirty, normal)
2026-01-23 20:17:08.483Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=3f589fc745d52b7ee9a99e4f1d0cafec, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=a07db07e0681d4823a08d8aed726cf59, .prepare_op=178 }
2026-01-23 20:17:08.483Z debug(replica): 0n: repair_prepare: op=179 checksum=044acab73ef5696fe3eb79791e8671d8 replica=2 latency=645ms (committed, dirty, normal)
2026-01-23 20:17:08.483Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=904b53d693de50053d40801676ef8aed, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=044acab73ef5696fe3eb79791e8671d8, .prepare_op=179 }
2026-01-23 20:17:08.483Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:08.483Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:08.483Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=159)
2026-01-23 20:17:08.483Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=047a16efd95787f20b207a94410cdd45, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=544ddc095d1ec530b6cdac4529484c6a, .request_checksum=62bb4c71c9dedd3e4d234a1d311c273c, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=176, .commit=175, .timestamp=1769199265426792564, .request=174, .operation=vsr.Operation(140) }
2026-01-23 20:17:08.483Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:08.483Z debug(replica): 0n: repair_header: op=176 checksum=047a16efd95787f20b207a94410cdd45 (checksum dirty)
2026-01-23 20:17:08.483Z debug(journal): 0: set_header_as_dirty: op=176 checksum=047a16efd95787f20b207a94410cdd45
2026-01-23 20:17:08.483Z debug(replica): 0n: write_prepare: ignoring op=176 checksum=047a16efd95787f20b207a94410cdd45 (already writing exact)
2026-01-23 20:17:08.484Z debug(compaction): AccountEvent.transfer_pending_status:0: beat_complete: quota_beat_done=154694 quota_beat=154694 quota_bar_done=154694 quota_bar=154694
2026-01-23 20:17:08.484Z debug(compaction): 0: Account.id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: Account.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: Account.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: Account.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: Account.ledger:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: Account.code:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: Account:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: Transfer.id:0: beat_commence: bar quota=155075 fulfilled, done=155075
2026-01-23 20:17:08.484Z debug(compaction): 0: Transfer.debit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.484Z debug(compaction): 0: Transfer.credit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.484Z debug(compaction): 0: Transfer.amount:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.484Z debug(compaction): 0: Transfer.pending_id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: Transfer.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: Transfer.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: Transfer.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: Transfer.ledger:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.484Z debug(compaction): 0: Transfer.code:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.484Z debug(compaction): 0: Transfer:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.484Z debug(compaction): 0: Transfer.expires_at:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: TransferPending:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: TransferPending.status:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: AccountEvent:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.484Z debug(compaction): 0: Account.imported:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: Transfer.imported:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: Account.closed:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: Transfer.closing:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: AccountEvent.account_timestamp:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: AccountEvent.transfer_pending_status:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:08.484Z debug(compaction): 0: AccountEvent.dr_account_id_expired:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.484Z debug(compaction): 0: AccountEvent.cr_account_id_expired:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:08.500Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:08.500Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:08.486Z debug(replica): 1n: on_message: view=2 status=normal RequestPrepare{ .checksum=3f589fc745d52b7ee9a99e4f1d0cafec, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=a07db07e0681d4823a08d8aed726cf59, .prepare_op=178 }
2026-01-23 20:17:08.484Z debug(compaction): 0: AccountEvent.transfer_pending_id_expired:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:10.878Z debug(compaction): 0: AccountEvent.ledger_expired:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:10.878Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=3f589fc745d52b7ee9a99e4f1d0cafec, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=a07db07e0681d4823a08d8aed726cf59, .prepare_op=178 }
2026-01-23 20:17:10.878Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=184549376 len=4096 unlocked
2026-01-23 20:17:10.878Z debug(journal): 0: write_header: op=176 sectors[45056..49152]
2026-01-23 20:17:10.878Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 locked
2026-01-23 20:17:10.878Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=40960 len=4096 unlocked
2026-01-23 20:17:10.878Z debug(journal): 0: write: view=1 slot=175 op=175 len=763648: 544ddc095d1ec530b6cdac4529484c6a complete, marking clean
2026-01-23 20:17:10.878Z debug(replica): 2N: on_message: view=2 status=normal PrepareOk{ .checksum=1db405c0c5ac1ec6675819041275e430, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=766b8db007599f79e569420ff910e151, .prepare_checksum=8e23d062eb5c1f0c45ce2f5d50a4db35, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=174, .commit_min=159, .timestamp=1769199265293783679, .request=172, .operation=vsr.Operation(140) }
2026-01-23 20:17:10.878Z debug(replica): 0n: send_prepare_ok: op=175 checksum=544ddc095d1ec530b6cdac4529484c6a
2026-01-23 20:17:10.878Z debug(replica): 2N: on_prepare_ok: not preparing op=174 checksum=8e23d062eb5c1f0c45ce2f5d50a4db35
2026-01-23 20:17:10.878Z debug(replica): 0n: sending prepare_ok to replica 2: PrepareOk{ .checksum=60b616e1d99f4ecc5d6690dc44b373c5, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=8e23d062eb5c1f0c45ce2f5d50a4db35, .prepare_checksum=544ddc095d1ec530b6cdac4529484c6a, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=175, .commit_min=159, .timestamp=1769199265351803841, .request=173, .operation=vsr.Operation(139) }
2026-01-23 20:17:10.878Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=904b53d693de50053d40801676ef8aed, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=044acab73ef5696fe3eb79791e8671d8, .prepare_op=179 }
2026-01-23 20:17:10.878Z debug(replica): 2N: on_message: view=2 status=normal PrepareOk{ .checksum=60b616e1d99f4ecc5d6690dc44b373c5, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=8e23d062eb5c1f0c45ce2f5d50a4db35, .prepare_checksum=544ddc095d1ec530b6cdac4529484c6a, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=175, .commit_min=159, .timestamp=1769199265351803841, .request=173, .operation=vsr.Operation(139) }
2026-01-23 20:17:10.878Z debug(replica): 2N: on_prepare_ok: not preparing op=175 checksum=544ddc095d1ec530b6cdac4529484c6a
2026-01-23 20:17:10.878Z debug(replica): 2N: on_request_prepare_read: op=178 checksum=a07db07e0681d4823a08d8aed726cf59 sending to replica=0
2026-01-23 20:17:10.878Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=a07db07e0681d4823a08d8aed726cf59, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=5448b306d961e5901d9925ad9c319c2e, .request_checksum=532ccd0e416578deacc7b93697c78a9d, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=178, .commit=177, .timestamp=1769199267781092605, .request=176, .operation=vsr.Operation(140) }
2026-01-23 20:17:10.878Z debug(replica): 1n: on_request_prepare_read: op=179 checksum=044acab73ef5696fe3eb79791e8671d8 sending to replica=0
2026-01-23 20:17:10.878Z debug(replica): 1n: sending prepare to replica 0: Prepare{ .checksum=044acab73ef5696fe3eb79791e8671d8, .checksum_body=bacfee553e35af29057413e73c5844d7, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=a07db07e0681d4823a08d8aed726cf59, .request_checksum=ad869021098161c00ca8d7585cce75cb, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=179, .commit=178, .timestamp=1769199267831748106, .request=177, .operation=vsr.Operation(141) }
2026-01-23 20:17:10.878Z debug(replica): 1n: execute_op: executing view=2 primary=false op=156 checksum=f0459a6a4b7e8418714fb031686072ff (lookup_accounts)
2026-01-23 20:17:10.878Z debug(replica): 1n: execute_op: commit_timestamp=1769199234967884172 prepare.header.timestamp=1769199237636847638
2026-01-23 20:17:10.879Z debug(replica): 2N: on_request_prepare_read: op=179 checksum=044acab73ef5696fe3eb79791e8671d8 sending to replica=0
2026-01-23 20:17:10.879Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=044acab73ef5696fe3eb79791e8671d8, .checksum_body=bacfee553e35af29057413e73c5844d7, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=a07db07e0681d4823a08d8aed726cf59, .request_checksum=ad869021098161c00ca8d7585cce75cb, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=179, .commit=178, .timestamp=1769199267831748106, .request=177, .operation=vsr.Operation(141) }
2026-01-23 20:17:10.879Z debug(replica): 1n: client_table_entry_update: client=20646316583567733131642247745484281958 session=2 request=154
2026-01-23 20:17:10.879Z debug(replica): 1n: execute_op: replying to client: Reply{ .checksum=891b547d10308c88352c48071d0ee4fb, .checksum_body=a5dae2a2b37f78548e0d595bafa81fb8, .cluster=0, .size=16768, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=340dfaa1dc69b2dec87bdf004944c793, .context=4d01c117147e97b0fea2ac7f1e2cce0d, .client=20646316583567733131642247745484281958, .op=156, .commit=156, .timestamp=1769199237636847638, .request=154, .operation=vsr.Operation(140) }
2026-01-23 20:17:10.879Z debug(replica): 1n: sending reply to client 20646316583567733131642247745484281958: Reply{ .checksum=11f5711e3631c551177fca55188373e8, .checksum_body=a5dae2a2b37f78548e0d595bafa81fb8, .cluster=0, .size=16768, .epoch=0, .view=2, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=340dfaa1dc69b2dec87bdf004944c793, .context=4d01c117147e97b0fea2ac7f1e2cce0d, .client=20646316583567733131642247745484281958, .op=156, .commit=156, .timestamp=1769199237636847638, .request=154, .operation=vsr.Operation(140) }
2026-01-23 20:17:10.879Z debug(forest): entering forest.compact() op=156 constants.lsm_compaction_ops=32 first_beat=false last_half_beat=false half_beat=false last_beat=false
2026-01-23 20:17:10.879Z debug(compaction): 1: Account.id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:10.879Z debug(compaction): 1: Account.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:10.879Z debug(compaction): 1: Account.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:10.879Z debug(compaction): 1: Account.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:10.879Z debug(compaction): 1: Account.ledger:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:10.879Z debug(compaction): 1: Account.code:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:10.879Z debug(compaction): 1: Account:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:10.879Z debug(compaction): 1: Transfer.id:0: beat_commence: bar quota=155075 fulfilled, done=155075
2026-01-23 20:17:10.879Z debug(compaction): 1: Transfer.debit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:10.879Z debug(compaction): 1: Transfer.credit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:10.879Z debug(compaction): 1: Transfer.amount:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:10.879Z debug(compaction): 1: Transfer.pending_id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:10.879Z debug(compaction): 1: Transfer.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:10.879Z debug(compaction): 1: Transfer.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:10.879Z debug(compaction): 1: Transfer.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:10.879Z debug(compaction): 1: Transfer.ledger:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:10.879Z debug(compaction): 1: Transfer.code:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:10.879Z debug(compaction): 1: Transfer:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:10.879Z debug(compaction): 1: Transfer.expires_at:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:10.879Z debug(compaction): 1: TransferPending:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:10.879Z debug(compaction): 1: TransferPending.status:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:10.884Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=185597952 len=856064 unlocked
2026-01-23 20:17:10.884Z debug(journal): 0: write_header: op=177 sectors[45056..49152]
2026-01-23 20:17:10.884Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=a07db07e0681d4823a08d8aed726cf59, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=5448b306d961e5901d9925ad9c319c2e, .request_checksum=532ccd0e416578deacc7b93697c78a9d, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=178, .commit=177, .timestamp=1769199267781092605, .request=176, .operation=vsr.Operation(140) }
2026-01-23 20:17:10.884Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:10.884Z debug(replica): 0n: repair_header: op=178 checksum=a07db07e0681d4823a08d8aed726cf59 (checksum dirty)
2026-01-23 20:17:10.884Z debug(journal): 0: set_header_as_dirty: op=178 checksum=a07db07e0681d4823a08d8aed726cf59
2026-01-23 20:17:10.884Z debug(journal): 0: write: view=1 slot=178 op=178 len=2320: a07db07e0681d4823a08d8aed726cf59 starting
2026-01-23 20:17:10.884Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=186646528 len=4096 locked
2026-01-23 20:17:10.884Z debug(replica): 0n: on_repair: repairing journal op=178
2026-01-23 20:17:10.884Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=159)
2026-01-23 20:17:10.884Z debug(replica): 0n: repair_prepare: op=176 checksum=047a16efd95787f20b207a94410cdd45 (already writing)
2026-01-23 20:17:10.884Z debug(replica): 0n: repair_prepare: op=177 checksum=5448b306d961e5901d9925ad9c319c2e (already writing)
2026-01-23 20:17:10.884Z debug(replica): 0n: repair_prepare: op=178 checksum=a07db07e0681d4823a08d8aed726cf59 (already writing)
2026-01-23 20:17:10.884Z debug(replica): 0n: repair_prepare: op=180 checksum=5c753a207b3384ff814c657c30a607c0 replica=2 latency=997ms (committed, dirty, normal)
2026-01-23 20:17:10.884Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=fafa318783bf440fb4db829abacd4950, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=5c753a207b3384ff814c657c30a607c0, .prepare_op=180 }
2026-01-23 20:17:10.884Z debug(replica): 0n: repair_prepare: op=181 checksum=1fda0feb94a37af3f4b35f082d369c7c replica=1 latency=1093ms (committed, dirty, normal)
2026-01-23 20:17:10.884Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=70ff2724256cfab0afb899b3f9c31fc0, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=1fda0feb94a37af3f4b35f082d369c7c, .prepare_op=181 }
2026-01-23 20:17:10.884Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=fafa318783bf440fb4db829abacd4950, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=5c753a207b3384ff814c657c30a607c0, .prepare_op=180 }
2026-01-23 20:17:10.884Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:10.884Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:10.884Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=159)
2026-01-23 20:17:10.884Z debug(vsr): 0: journal_repair_budget_timeout fired
2026-01-23 20:17:10.884Z debug(vsr): 0: journal_repair_budget_timeout reset
2026-01-23 20:17:10.884Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 unlocked
2026-01-23 20:17:10.884Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 locked
2026-01-23 20:17:10.884Z debug(journal): 0: write: view=1 slot=176 op=176 len=2320: 047a16efd95787f20b207a94410cdd45 complete, marking clean
2026-01-23 20:17:10.884Z debug(replica): 0n: send_prepare_ok: op=176 checksum=047a16efd95787f20b207a94410cdd45
2026-01-23 20:17:10.884Z debug(replica): 2N: on_request_prepare_read: op=180 checksum=5c753a207b3384ff814c657c30a607c0 sending to replica=0
2026-01-23 20:17:10.884Z debug(replica): 0n: sending prepare_ok to replica 2: PrepareOk{ .checksum=b9300aa08dc3b4912084e35aec7ce34a, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=544ddc095d1ec530b6cdac4529484c6a, .prepare_checksum=047a16efd95787f20b207a94410cdd45, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=176, .commit_min=159, .timestamp=1769199265426792564, .request=174, .operation=vsr.Operation(140) }
2026-01-23 20:17:10.884Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=5c753a207b3384ff814c657c30a607c0, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=044acab73ef5696fe3eb79791e8671d8, .request_checksum=6c6a9836dde6bfa2bebf7c4efebd4f84, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=180, .commit=179, .timestamp=1769199270194734884, .request=178, .operation=vsr.Operation(140) }
2026-01-23 20:17:10.885Z debug(replica): 2N: on_message: view=2 status=normal PrepareOk{ .checksum=b9300aa08dc3b4912084e35aec7ce34a, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=544ddc095d1ec530b6cdac4529484c6a, .prepare_checksum=047a16efd95787f20b207a94410cdd45, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=176, .commit_min=159, .timestamp=1769199265426792564, .request=174, .operation=vsr.Operation(140) }
2026-01-23 20:17:10.885Z debug(replica): 2N: on_prepare_ok: not preparing op=176 checksum=047a16efd95787f20b207a94410cdd45
2026-01-23 20:17:10.885Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=044acab73ef5696fe3eb79791e8671d8, .checksum_body=bacfee553e35af29057413e73c5844d7, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=a07db07e0681d4823a08d8aed726cf59, .request_checksum=ad869021098161c00ca8d7585cce75cb, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=179, .commit=178, .timestamp=1769199267831748106, .request=177, .operation=vsr.Operation(141) }
2026-01-23 20:17:10.885Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:10.885Z debug(replica): 0n: repair_header: op=179 checksum=044acab73ef5696fe3eb79791e8671d8 (checksum dirty)
2026-01-23 20:17:10.885Z debug(journal): 0: set_header_as_dirty: op=179 checksum=044acab73ef5696fe3eb79791e8671d8
2026-01-23 20:17:10.885Z debug(journal): 0: write: view=1 slot=179 op=179 len=128944: 044acab73ef5696fe3eb79791e8671d8 starting
2026-01-23 20:17:10.885Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=187695104 len=131072 locked
2026-01-23 20:17:10.885Z debug(replica): 0n: on_repair: repairing journal op=179
2026-01-23 20:17:10.885Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=159)
2026-01-23 20:17:10.885Z debug(replica): 0n: repair_prepare: op=177 checksum=5448b306d961e5901d9925ad9c319c2e (already writing)
2026-01-23 20:17:10.885Z debug(replica): 0n: repair_prepare: op=178 checksum=a07db07e0681d4823a08d8aed726cf59 (already writing)
2026-01-23 20:17:10.885Z debug(replica): 0n: repair_prepare: op=179 checksum=044acab73ef5696fe3eb79791e8671d8 (already writing)
2026-01-23 20:17:10.885Z debug(replica): 0n: repair_prepare: op=180 checksum=5c753a207b3384ff814c657c30a607c0 replica=1 latency=1356ms (committed, dirty, normal)
2026-01-23 20:17:10.885Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=fafa318783bf440fb4db829abacd4950, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=5c753a207b3384ff814c657c30a607c0, .prepare_op=180 }
2026-01-23 20:17:10.885Z debug(replica): 0n: repair_prepare: op=181 checksum=1fda0feb94a37af3f4b35f082d369c7c replica=2 latency=1278ms (committed, dirty, normal)
2026-01-23 20:17:10.885Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=70ff2724256cfab0afb899b3f9c31fc0, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=1fda0feb94a37af3f4b35f082d369c7c, .prepare_op=181 }
2026-01-23 20:17:10.885Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:10.885Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:10.885Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=159)
2026-01-23 20:17:10.885Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=5c753a207b3384ff814c657c30a607c0, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=044acab73ef5696fe3eb79791e8671d8, .request_checksum=6c6a9836dde6bfa2bebf7c4efebd4f84, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=180, .commit=179, .timestamp=1769199270194734884, .request=178, .operation=vsr.Operation(140) }
2026-01-23 20:17:10.885Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:10.885Z debug(replica): 0n: repair_header: op=180 checksum=5c753a207b3384ff814c657c30a607c0 (checksum dirty)
2026-01-23 20:17:10.885Z debug(journal): 0: set_header_as_dirty: op=180 checksum=5c753a207b3384ff814c657c30a607c0
2026-01-23 20:17:10.885Z debug(journal): 0: write: view=1 slot=180 op=180 len=2320: 5c753a207b3384ff814c657c30a607c0 starting
2026-01-23 20:17:10.885Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=188743680 len=4096 locked
2026-01-23 20:17:10.885Z debug(replica): 0n: on_repair: repairing journal op=180
2026-01-23 20:17:10.885Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=159)
2026-01-23 20:17:10.886Z debug(replica): 0n: repair_prepare: op=177 checksum=5448b306d961e5901d9925ad9c319c2e (already writing)
2026-01-23 20:17:10.886Z debug(replica): 0n: repair_prepare: op=178 checksum=a07db07e0681d4823a08d8aed726cf59 (already writing)
2026-01-23 20:17:10.886Z debug(replica): 0n: repair_prepare: op=179 checksum=044acab73ef5696fe3eb79791e8671d8 (already writing)
2026-01-23 20:17:10.886Z debug(replica): 0n: repair_prepare: op=180 checksum=5c753a207b3384ff814c657c30a607c0 (already writing)
2026-01-23 20:17:10.886Z debug(replica): 0n: repair_prepare: op=182 checksum=d4a744d75bae35cb7c0a5a79d4d7075e replica=2 latency=1022ms (committed, dirty, normal)
2026-01-23 20:17:10.886Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=5e027085487e50aefa0ece9d9a89a3ca, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=d4a744d75bae35cb7c0a5a79d4d7075e, .prepare_op=182 }
2026-01-23 20:17:10.886Z debug(replica): 0n: repair_prepare: op=183 checksum=5a23f302e9e9a0a10e8b24f9635e6c58 replica=1 latency=1084ms (committed, dirty, normal)
2026-01-23 20:17:10.886Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=12840ed4dee7416f737c58896e93b67c, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=5a23f302e9e9a0a10e8b24f9635e6c58, .prepare_op=183 }
2026-01-23 20:17:10.886Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:10.886Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:10.886Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=159)
2026-01-23 20:17:10.888Z debug(vsr): 2: prepare_timeout fired
2026-01-23 20:17:10.888Z debug(vsr): 2: prepare_timeout backing off
2026-01-23 20:17:10.888Z debug(vsr): 2: prepare_timeout after=61..64 (rtt=30 min=1 max=1000 attempts=3)
2026-01-23 20:17:10.888Z debug(replica): 2N: on_prepare_timeout: waiting for replica 0
2026-01-23 20:17:10.888Z debug(replica): 2N: on_prepare_timeout: waiting for replica 1
2026-01-23 20:17:10.888Z debug(replica): 2N: on_prepare_timeout: replicating to replica 1
2026-01-23 20:17:10.888Z debug(replica): 2N: sending prepare to replica 1: Prepare{ .checksum=28d0bc892f2a0078c968e2ddb4d2f7f8, .checksum_body=6535cd7a00eab6ed9c76dff0b513cec4, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=ccb1d15454d325df8d1fe6e2c959d751, .request_checksum=0428f79174f1e8362283f6728f5aeec9, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=199, .commit=198, .timestamp=1769199282757791616, .request=197, .operation=vsr.Operation(141) }
2026-01-23 20:17:10.888Z debug(message_bus): 2: send_message_to_replica: no connection to=1 header=Prepare{ .checksum=28d0bc892f2a0078c968e2ddb4d2f7f8, .checksum_body=6535cd7a00eab6ed9c76dff0b513cec4, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=ccb1d15454d325df8d1fe6e2c959d751, .request_checksum=0428f79174f1e8362283f6728f5aeec9, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=199, .commit=198, .timestamp=1769199282757791616, .request=197, .operation=vsr.Operation(141) }
2026-01-23 20:17:10.889Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=5448b306d961e5901d9925ad9c319c2e, .checksum_body=f2df2f5777d792cf469ff499c15e7840, .cluster=0, .size=854656, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=047a16efd95787f20b207a94410cdd45, .request_checksum=e9a3837122f87a7002ea02dfa69f1b88, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=177, .commit=176, .timestamp=1769199267712685111, .request=175, .operation=vsr.Operation(139) }
2026-01-23 20:17:10.889Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:10.889Z debug(replica): 0n: repair_header: op=177 checksum=5448b306d961e5901d9925ad9c319c2e (checksum dirty)
2026-01-23 20:17:10.889Z debug(journal): 0: set_header_as_dirty: op=177 checksum=5448b306d961e5901d9925ad9c319c2e
2026-01-23 20:17:10.889Z debug(replica): 0n: write_prepare: ignoring op=177 checksum=5448b306d961e5901d9925ad9c319c2e (already writing exact)
2026-01-23 20:17:10.889Z debug(compaction): AccountEvent.prunable:0: beat_complete: quota_beat_done=128787 quota_beat=128787 quota_bar_done=128787 quota_bar=128787
2026-01-23 20:17:10.889Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 unlocked
2026-01-23 20:17:10.889Z debug(journal): 0: write: view=1 slot=177 op=177 len=854656: 5448b306d961e5901d9925ad9c319c2e complete, marking clean
2026-01-23 20:17:10.889Z debug(replica): 0n: send_prepare_ok: op=177 checksum=5448b306d961e5901d9925ad9c319c2e
2026-01-23 20:17:10.889Z debug(replica): 0n: sending prepare_ok to replica 2: PrepareOk{ .checksum=93fc593d3a4ce17d43a71a0bc144becd, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=047a16efd95787f20b207a94410cdd45, .prepare_checksum=5448b306d961e5901d9925ad9c319c2e, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=177, .commit_min=159, .timestamp=1769199267712685111, .request=175, .operation=vsr.Operation(139) }
2026-01-23 20:17:10.889Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=186646528 len=4096 unlocked
2026-01-23 20:17:10.889Z debug(journal): 0: write_header: op=178 sectors[45056..49152]
2026-01-23 20:17:10.889Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 locked
2026-01-23 20:17:10.889Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=187695104 len=131072 unlocked
2026-01-23 20:17:10.889Z debug(journal): 0: write_header: op=179 sectors[45056..49152]
2026-01-23 20:17:10.890Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=044acab73ef5696fe3eb79791e8671d8, .checksum_body=bacfee553e35af29057413e73c5844d7, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=a07db07e0681d4823a08d8aed726cf59, .request_checksum=ad869021098161c00ca8d7585cce75cb, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=179, .commit=178, .timestamp=1769199267831748106, .request=177, .operation=vsr.Operation(141) }
2026-01-23 20:17:10.890Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:10.890Z debug(replica): 0n: repair_header: op=179 checksum=044acab73ef5696fe3eb79791e8671d8 (checksum dirty)
2026-01-23 20:17:10.890Z debug(journal): 0: set_header_as_dirty: op=179 checksum=044acab73ef5696fe3eb79791e8671d8
2026-01-23 20:17:10.890Z debug(replica): 0n: write_prepare: ignoring op=179 checksum=044acab73ef5696fe3eb79791e8671d8 (already writing exact)
2026-01-23 20:17:10.890Z debug(compaction): Transfer.id:0: bar_complete: values_in=155075 values_out=155075 values_dropped=0
2026-01-23 20:17:10.890Z debug(manifest_log): 0: insert: level=0 tree=8 checksum=7b534005ac2c6a20bd98fe3db797a80f address=11 snapshot=160..18446744073709551615
2026-01-23 20:17:10.890Z debug(compaction): Transfer.debit_account_id:0: bar_complete: values_in=154694 values_out=154694 values_dropped=0
2026-01-23 20:17:10.890Z debug(manifest_log): 0: insert: level=0 tree=9 checksum=d356a30be0f0c1bd46e02ce3825a5536 address=22 snapshot=160..18446744073709551615
2026-01-23 20:17:10.890Z debug(compaction): Transfer.credit_account_id:0: bar_complete: values_in=154694 values_out=154694 values_dropped=0
2026-01-23 20:17:10.890Z debug(manifest_log): 0: insert: level=0 tree=10 checksum=1083d9dfb4c2350995e84d5902f1d5f3 address=33 snapshot=160..18446744073709551615
2026-01-23 20:17:10.890Z debug(compaction): Transfer.amount:0: bar_complete: values_in=154694 values_out=154694 values_dropped=0
2026-01-23 20:17:10.890Z debug(manifest_log): 0: insert: level=0 tree=11 checksum=93fb67becb6c0cb59c4fd2c0d0924ca8 address=44 snapshot=160..18446744073709551615
2026-01-23 20:17:10.890Z debug(compaction): Transfer.ledger:0: bar_complete: values_in=154694 values_out=154694 values_dropped=0
2026-01-23 20:17:10.890Z debug(manifest_log): 0: insert: level=0 tree=16 checksum=c86bbf250486f681bab20586b1bc27fe address=50 snapshot=160..18446744073709551615
2026-01-23 20:17:10.890Z debug(compaction): Transfer.code:0: bar_complete: values_in=154694 values_out=154694 values_dropped=0
2026-01-23 20:17:10.890Z debug(manifest_log): 0: insert: level=0 tree=17 checksum=46d62eb9db4604d2abfa4594eb5a5405 address=56 snapshot=160..18446744073709551615
2026-01-23 20:17:10.890Z debug(compaction): Transfer:0: bar_complete: values_in=154694 values_out=154694 values_dropped=0
2026-01-23 20:17:10.890Z debug(manifest_log): 0: insert: level=0 tree=18 checksum=4737c7702df749d19a200d2f3302cf86 address=95 snapshot=160..18446744073709551615
2026-01-23 20:17:10.890Z debug(compaction): AccountEvent:0: bar_complete: values_in=154694 values_out=154694 values_dropped=0
2026-01-23 20:17:10.890Z debug(manifest_log): 0: insert: level=0 tree=22 checksum=7c4e3bdadebba6be2e960189d18a01dc address=173 snapshot=160..18446744073709551615
2026-01-23 20:17:10.890Z debug(compaction): AccountEvent.transfer_pending_status:0: bar_complete: values_in=154694 values_out=154694 values_dropped=0
2026-01-23 20:17:10.890Z debug(manifest_log): 0: insert: level=0 tree=28 checksum=738c3711b492ea9d3570c27908a29e97 address=179 snapshot=160..18446744073709551615
2026-01-23 20:17:10.890Z debug(compaction): AccountEvent.prunable:0: bar_complete: values_in=128787 values_out=128787 values_dropped=0
2026-01-23 20:17:10.890Z debug(manifest_log): 0: insert: level=0 tree=33 checksum=4b87dbd3175b84bfd90a6d0253830ef7 address=182 snapshot=160..18446744073709551615
2026-01-23 20:17:10.894Z debug(forest): swap_mutable_and_immutable(Account.id)
2026-01-23 20:17:10.894Z debug(forest): swap_mutable_and_immutable(Account.user_data_128)
2026-01-23 20:17:10.894Z debug(forest): swap_mutable_and_immutable(Account.user_data_64)
2026-01-23 20:17:10.894Z debug(forest): swap_mutable_and_immutable(Account.user_data_32)
2026-01-23 20:17:10.894Z debug(forest): swap_mutable_and_immutable(Account.ledger)
2026-01-23 20:17:10.894Z debug(forest): swap_mutable_and_immutable(Account.code)
2026-01-23 20:17:10.894Z debug(forest): swap_mutable_and_immutable(Account)
2026-01-23 20:17:10.894Z debug(forest): swap_mutable_and_immutable(Transfer.id)
2026-01-23 20:17:10.894Z debug(forest): swap_mutable_and_immutable(Transfer.debit_account_id)
2026-01-23 20:17:10.898Z debug(vsr): 2: commit_message_timeout fired
2026-01-23 20:17:10.898Z debug(vsr): 2: commit_message_timeout reset
2026-01-23 20:17:10.898Z debug(replica): 2N: sending commit to replica 0: Commit{ .checksum=f0baa282c3a913f6e31b730dfa6ac36a, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.commit, .replica=2, .commit_checksum=ccb1d15454d325df8d1fe6e2c959d751, .checkpoint_id=f222e9ce156b309eaeb4af665242ac18, .checkpoint_op=0, .commit=198, .timestamp_monotonic=41314702692485821 }
2026-01-23 20:17:10.898Z debug(replica): 2N: sending commit to replica 1: Commit{ .checksum=f0baa282c3a913f6e31b730dfa6ac36a, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.commit, .replica=2, .commit_checksum=ccb1d15454d325df8d1fe6e2c959d751, .checkpoint_id=f222e9ce156b309eaeb4af665242ac18, .checkpoint_op=0, .commit=198, .timestamp_monotonic=41314702692485821 }
2026-01-23 20:17:10.898Z debug(message_bus): 2: send_message_to_replica: no connection to=1 header=Commit{ .checksum=f0baa282c3a913f6e31b730dfa6ac36a, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.commit, .replica=2, .commit_checksum=ccb1d15454d325df8d1fe6e2c959d751, .checkpoint_id=f222e9ce156b309eaeb4af665242ac18, .checkpoint_op=0, .commit=198, .timestamp_monotonic=41314702692485821 }
2026-01-23 20:17:10.898Z debug(vsr): 2: start_view_change_message_timeout fired
2026-01-23 20:17:10.898Z debug(vsr): 2: start_view_change_message_timeout reset
2026-01-23 20:17:10.898Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:10.898Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:10.898Z debug(vsr): 2: journal_repair_timeout fired
2026-01-23 20:17:10.898Z debug(vsr): 2: journal_repair_timeout reset
2026-01-23 20:17:10.898Z debug(vsr): 2: grid_repair_budget_timeout fired
2026-01-23 20:17:10.898Z debug(vsr): 2: grid_repair_budget_timeout reset
2026-01-23 20:17:10.898Z debug(vsr): 2: pulse_timeout fired
2026-01-23 20:17:10.898Z debug(vsr): 2: pulse_timeout reset
2026-01-23 20:17:10.898Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=70ff2724256cfab0afb899b3f9c31fc0, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=1fda0feb94a37af3f4b35f082d369c7c, .prepare_op=181 }
2026-01-23 20:17:10.898Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=5e027085487e50aefa0ece9d9a89a3ca, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=d4a744d75bae35cb7c0a5a79d4d7075e, .prepare_op=182 }
2026-01-23 20:17:10.898Z debug(replica): 2N: on_message: view=2 status=normal PrepareOk{ .checksum=93fc593d3a4ce17d43a71a0bc144becd, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=047a16efd95787f20b207a94410cdd45, .prepare_checksum=5448b306d961e5901d9925ad9c319c2e, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=177, .commit_min=159, .timestamp=1769199267712685111, .request=175, .operation=vsr.Operation(139) }
2026-01-23 20:17:10.898Z debug(replica): 2N: on_prepare_ok: not preparing op=177 checksum=5448b306d961e5901d9925ad9c319c2e
2026-01-23 20:17:10.898Z debug(replica): 2N: on_request_prepare_read: op=182 checksum=d4a744d75bae35cb7c0a5a79d4d7075e sending to replica=0
2026-01-23 20:17:10.898Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=d4a744d75bae35cb7c0a5a79d4d7075e, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=1fda0feb94a37af3f4b35f082d369c7c, .request_checksum=49784d4772187b1f255bac2fefa6d110, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=182, .commit=181, .timestamp=1769199270259953782, .request=180, .operation=vsr.Operation(140) }
2026-01-23 20:17:10.900Z debug(replica): 2N: on_request_prepare_read: op=181 checksum=1fda0feb94a37af3f4b35f082d369c7c sending to replica=0
2026-01-23 20:17:10.900Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=1fda0feb94a37af3f4b35f082d369c7c, .checksum_body=e2cd4faa8aaeec184729698560897a2e, .cluster=0, .size=315520, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=5c753a207b3384ff814c657c30a607c0, .request_checksum=f100d0841ba6b809d1abcecd3eae86f2, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=181, .commit=180, .timestamp=1769199270214251833, .request=179, .operation=vsr.Operation(139) }
2026-01-23 20:17:10.902Z debug(replica): 1n: on_request_prepare_read: op=178 checksum=a07db07e0681d4823a08d8aed726cf59 sending to replica=0
2026-01-23 20:17:10.902Z debug(replica): 1n: sending prepare to replica 0: Prepare{ .checksum=a07db07e0681d4823a08d8aed726cf59, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=5448b306d961e5901d9925ad9c319c2e, .request_checksum=532ccd0e416578deacc7b93697c78a9d, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=178, .commit=177, .timestamp=1769199267781092605, .request=176, .operation=vsr.Operation(140) }
2026-01-23 20:17:10.903Z debug(replica): 1n: on_message: view=2 status=normal RequestPrepare{ .checksum=70ff2724256cfab0afb899b3f9c31fc0, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=1fda0feb94a37af3f4b35f082d369c7c, .prepare_op=181 }
2026-01-23 20:17:10.903Z debug(client_replies): 1: write_reply: wrote (client=20646316583567733131642247745484281958 request=154)
2026-01-23 20:17:10.903Z debug(forest): swap_mutable_and_immutable(Transfer.credit_account_id)
2026-01-23 20:17:10.912Z debug(forest): swap_mutable_and_immutable(Transfer.amount)
2026-01-23 20:17:10.915Z debug(replica): 1n: on_message: view=2 status=normal RequestPrepare{ .checksum=fafa318783bf440fb4db829abacd4950, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=5c753a207b3384ff814c657c30a607c0, .prepare_op=180 }
2026-01-23 20:17:10.915Z debug(replica): 1n: on_message: view=2 status=normal RequestPrepare{ .checksum=12840ed4dee7416f737c58896e93b67c, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=5a23f302e9e9a0a10e8b24f9635e6c58, .prepare_op=183 }
2026-01-23 20:17:10.915Z debug(compaction): AccountEvent:0: beat_complete: quota_beat_done=20470 quota_beat=20092 quota_bar_done=108491 quota_bar=154694
2026-01-23 20:17:10.916Z debug(replica): 1n: on_request_prepare_read: op=181 checksum=1fda0feb94a37af3f4b35f082d369c7c sending to replica=0
2026-01-23 20:17:10.916Z debug(replica): 1n: sending prepare to replica 0: Prepare{ .checksum=1fda0feb94a37af3f4b35f082d369c7c, .checksum_body=e2cd4faa8aaeec184729698560897a2e, .cluster=0, .size=315520, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=5c753a207b3384ff814c657c30a607c0, .request_checksum=f100d0841ba6b809d1abcecd3eae86f2, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=181, .commit=180, .timestamp=1769199270214251833, .request=179, .operation=vsr.Operation(139) }
2026-01-23 20:17:10.917Z debug(vsr): 1: journal_repair_budget_timeout fired
2026-01-23 20:17:10.917Z debug(vsr): 1: journal_repair_budget_timeout reset
2026-01-23 20:17:10.917Z debug(replica): 1n: on_request_prepare_read: op=180 checksum=5c753a207b3384ff814c657c30a607c0 sending to replica=0
2026-01-23 20:17:10.917Z debug(replica): 1n: sending prepare to replica 0: Prepare{ .checksum=5c753a207b3384ff814c657c30a607c0, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=044acab73ef5696fe3eb79791e8671d8, .request_checksum=6c6a9836dde6bfa2bebf7c4efebd4f84, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=180, .commit=179, .timestamp=1769199270194734884, .request=178, .operation=vsr.Operation(140) }
2026-01-23 20:17:10.917Z debug(replica): 1n: on_request_prepare_read: op=183 checksum=5a23f302e9e9a0a10e8b24f9635e6c58 sending to replica=0
2026-01-23 20:17:10.917Z debug(replica): 1n: sending prepare to replica 0: Prepare{ .checksum=5a23f302e9e9a0a10e8b24f9635e6c58, .checksum_body=8ced34f27bed05b91f8b197407d0f573, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=d4a744d75bae35cb7c0a5a79d4d7075e, .request_checksum=3b2bb6c9e57b5805dcda6e0a71c2ca16, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=183, .commit=182, .timestamp=1769199272526302888, .request=181, .operation=vsr.Operation(141) }
2026-01-23 20:17:10.918Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:10.918Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:10.922Z debug(forest): swap_mutable_and_immutable(Transfer.pending_id)
2026-01-23 20:17:10.922Z debug(forest): swap_mutable_and_immutable(Transfer.user_data_128)
2026-01-23 20:17:10.922Z debug(forest): swap_mutable_and_immutable(Transfer.user_data_64)
2026-01-23 20:17:10.922Z debug(forest): swap_mutable_and_immutable(Transfer.user_data_32)
2026-01-23 20:17:10.922Z debug(forest): swap_mutable_and_immutable(Transfer.ledger)
2026-01-23 20:17:10.922Z debug(forest): swap_mutable_and_immutable(Transfer.code)
2026-01-23 20:17:10.928Z debug(replica): 1n: execute_op: executing view=2 primary=false op=157 checksum=38a9ab132bfdc872e35fbcef40d25205 (create_transfers)
2026-01-23 20:17:10.928Z debug(replica): 1n: execute_op: commit_timestamp=1769199237636847638 prepare.header.timestamp=1769199237714065475
2026-01-23 20:17:10.928Z debug(forest): swap_mutable_and_immutable(Transfer)
2026-01-23 20:17:10.928Z debug(forest): swap_mutable_and_immutable(Transfer.expires_at)
2026-01-23 20:17:10.928Z debug(forest): swap_mutable_and_immutable(TransferPending)
2026-01-23 20:17:10.928Z debug(forest): swap_mutable_and_immutable(TransferPending.status)
2026-01-23 20:17:10.928Z debug(forest): swap_mutable_and_immutable(AccountEvent)
2026-01-23 20:17:10.928Z debug(forest): swap_mutable_and_immutable(Account.imported)
2026-01-23 20:17:10.928Z debug(forest): swap_mutable_and_immutable(Transfer.imported)
2026-01-23 20:17:10.928Z debug(forest): swap_mutable_and_immutable(Account.closed)
2026-01-23 20:17:10.928Z debug(forest): swap_mutable_and_immutable(Transfer.closing)
2026-01-23 20:17:10.928Z debug(forest): swap_mutable_and_immutable(AccountEvent.account_timestamp)
2026-01-23 20:17:10.933Z debug(forest): swap_mutable_and_immutable(AccountEvent.transfer_pending_status)
2026-01-23 20:17:10.933Z debug(forest): swap_mutable_and_immutable(AccountEvent.dr_account_id_expired)
2026-01-23 20:17:10.933Z debug(forest): swap_mutable_and_immutable(AccountEvent.cr_account_id_expired)
2026-01-23 20:17:10.933Z debug(forest): swap_mutable_and_immutable(AccountEvent.transfer_pending_id_expired)
2026-01-23 20:17:10.933Z debug(forest): swap_mutable_and_immutable(AccountEvent.ledger_expired)
2026-01-23 20:17:10.933Z debug(forest): swap_mutable_and_immutable(AccountEvent.prunable)
2026-01-23 20:17:10.933Z debug(replica): 0n: commit_start_journal: cached prepare op=160 checksum=cfd3e186238845eac3393cd0f603b131
2026-01-23 20:17:10.933Z debug(replica): 0n: execute_op: executing view=2 primary=false op=160 checksum=cfd3e186238845eac3393cd0f603b131 (lookup_accounts)
2026-01-23 20:17:10.933Z debug(replica): 0n: execute_op: commit_timestamp=1769199243160093490 prepare.header.timestamp=1769199243223859995
2026-01-23 20:17:10.933Z debug(replica): 0n: client_table_entry_update: client=20646316583567733131642247745484281958 session=2 request=158
2026-01-23 20:17:10.933Z debug(replica): 0n: execute_op: replying to client: Reply{ .checksum=bed92aa998a98029daed08908db62d7f, .checksum_body=89768be34c7aac0c73c75472430c3d18, .cluster=0, .size=16768, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=70f0a1e9e186ae9527b22b06cc6e85c7, .context=b4ece573e19c1e7464529e3b795a7194, .client=20646316583567733131642247745484281958, .op=160, .commit=160, .timestamp=1769199243223859995, .request=158, .operation=vsr.Operation(140) }
2026-01-23 20:17:10.933Z debug(replica): 0n: sending reply to client 20646316583567733131642247745484281958: Reply{ .checksum=0a6095cd4b2cee774333a2d6fdea3c06, .checksum_body=89768be34c7aac0c73c75472430c3d18, .cluster=0, .size=16768, .epoch=0, .view=2, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=70f0a1e9e186ae9527b22b06cc6e85c7, .context=b4ece573e19c1e7464529e3b795a7194, .client=20646316583567733131642247745484281958, .op=160, .commit=160, .timestamp=1769199243223859995, .request=158, .operation=vsr.Operation(140) }
2026-01-23 20:17:10.933Z debug(forest): entering forest.compact() op=160 constants.lsm_compaction_ops=32 first_beat=true last_half_beat=false half_beat=false last_beat=false
2026-01-23 20:17:10.933Z debug(compaction): Account.id:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.user_data_128:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.user_data_64:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.user_data_32:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.ledger:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.code:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.id:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.debit_account_id:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.credit_account_id:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.amount:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.pending_id:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.user_data_128:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.user_data_64:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.user_data_32:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.ledger:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.code:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.expires_at:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): TransferPending:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): TransferPending.status:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): AccountEvent:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.imported:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.imported:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.closed:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.closing:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): AccountEvent.account_timestamp:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): AccountEvent.transfer_pending_status:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): AccountEvent.dr_account_id_expired:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): AccountEvent.cr_account_id_expired:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): AccountEvent.transfer_pending_id_expired:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): AccountEvent.ledger_expired:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): AccountEvent.prunable:1: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.id:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.user_data_128:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.user_data_64:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.user_data_32:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.ledger:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.code:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.id:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.debit_account_id:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.credit_account_id:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.amount:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.pending_id:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.user_data_128:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.user_data_64:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.user_data_32:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.ledger:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.code:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.expires_at:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): TransferPending:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): TransferPending.status:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): AccountEvent:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.imported:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.imported:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.closed:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.closing:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): AccountEvent.account_timestamp:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): AccountEvent.transfer_pending_status:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): AccountEvent.dr_account_id_expired:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): AccountEvent.cr_account_id_expired:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): AccountEvent.transfer_pending_id_expired:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): AccountEvent.ledger_expired:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): AccountEvent.prunable:3: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.id:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.user_data_128:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.user_data_64:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.user_data_32:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.ledger:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.code:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.id:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.debit_account_id:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.credit_account_id:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.amount:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.pending_id:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.user_data_128:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.user_data_64:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.user_data_32:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.ledger:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.code:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.expires_at:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): TransferPending:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): TransferPending.status:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): AccountEvent:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Account.imported:5: bar_commence: nothing to compact
2026-01-23 20:17:10.933Z debug(compaction): Transfer.imported:5: bar_commence: nothing to compact
2026-01-23 20:17:10.938Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:10.957Z debug(replica): 1n: client_table_entry_update: client=20646316583567733131642247745484281958 session=2 request=155
2026-01-23 20:17:10.938Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:10.933Z debug(compaction): Account.closed:5: bar_commence: nothing to compact
2026-01-23 20:17:13.706Z debug(compaction): Transfer.closing:5: bar_commence: nothing to compact
2026-01-23 20:17:13.706Z debug(compaction): AccountEvent.account_timestamp:5: bar_commence: nothing to compact
2026-01-23 20:17:13.706Z debug(compaction): AccountEvent.transfer_pending_status:5: bar_commence: nothing to compact
2026-01-23 20:17:13.706Z debug(compaction): AccountEvent.dr_account_id_expired:5: bar_commence: nothing to compact
2026-01-23 20:17:13.706Z debug(compaction): AccountEvent.cr_account_id_expired:5: bar_commence: nothing to compact
2026-01-23 20:17:13.706Z debug(replica): 2N: on_message: view=2 status=normal PingClient{ .checksum=32db352c20071f7288a84202b25b33a4, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.1, .protocol=0, .command=vsr.Command.ping_client, .replica=0, .client=20646316583567733131642247745484281958, .ping_timestamp_monotonic=41314704376562552 }
2026-01-23 20:17:13.706Z debug(replica): 1n: execute_op: replying to client: Reply{ .checksum=6ba06e9b23df25d17eebe538c134d32f, .checksum_body=c5cfa732a7a19c86af39390ef97ed0cf, .cluster=0, .size=296, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=091a2fdebd611df0b9cbbfa9d5ad02e5, .context=0704e538333973a935f15386a2572cc5, .client=20646316583567733131642247745484281958, .op=157, .commit=157, .timestamp=1769199237714065475, .request=155, .operation=vsr.Operation(139) }
2026-01-23 20:17:13.706Z debug(compaction): AccountEvent.transfer_pending_id_expired:5: bar_commence: nothing to compact
2026-01-23 20:17:13.706Z debug(compaction): AccountEvent.ledger_expired:5: bar_commence: nothing to compact
2026-01-23 20:17:13.706Z debug(compaction): AccountEvent.prunable:5: bar_commence: nothing to compact
2026-01-23 20:17:13.706Z debug(replica): 2N: sending pong_client to client 20646316583567733131642247745484281958: PongClient{ .checksum=3a82184c1ea6523d10dc2735b26b5e2a, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.1, .protocol=0, .command=vsr.Command.pong_client, .replica=2, .ping_timestamp_monotonic=41314704376562552 }
2026-01-23 20:17:13.706Z debug(replica): 1n: sending reply to client 20646316583567733131642247745484281958: Reply{ .checksum=ba33f6b17a91b714c3edd9d673ab5aa3, .checksum_body=c5cfa732a7a19c86af39390ef97ed0cf, .cluster=0, .size=296, .epoch=0, .view=2, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=091a2fdebd611df0b9cbbfa9d5ad02e5, .context=0704e538333973a935f15386a2572cc5, .client=20646316583567733131642247745484281958, .op=157, .commit=157, .timestamp=1769199237714065475, .request=155, .operation=vsr.Operation(139) }
2026-01-23 20:17:13.706Z debug(forest): entering forest.compact() op=157 constants.lsm_compaction_ops=32 first_beat=false last_half_beat=false half_beat=false last_beat=false
2026-01-23 20:17:13.706Z debug(replica): 0n: commit_start_journal: cached prepare op=161 checksum=06b4b4d731443eb2aa010b9e85e0ccea
2026-01-23 20:17:13.707Z debug(compaction): 1: Account.id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.707Z debug(compaction): 1: Account.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.707Z debug(compaction): 1: Account.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.707Z debug(compaction): 1: Account.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.707Z debug(compaction): 1: Account.ledger:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.707Z debug(compaction): 1: Account.code:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.707Z debug(compaction): 1: Account:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.707Z debug(compaction): 1: Transfer.id:0: beat_commence: bar quota=155075 fulfilled, done=155075
2026-01-23 20:17:13.707Z debug(compaction): 1: Transfer.debit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:13.707Z debug(compaction): 1: Transfer.credit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:13.707Z debug(compaction): 1: Transfer.amount:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:13.707Z debug(compaction): 1: Transfer.pending_id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.707Z debug(compaction): 1: Transfer.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.707Z debug(compaction): 1: Transfer.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.707Z debug(compaction): 1: Transfer.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.707Z debug(compaction): 1: Transfer.ledger:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:13.707Z debug(compaction): 1: Transfer.code:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:13.707Z debug(compaction): 1: Transfer:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:13.707Z debug(compaction): 1: Transfer.expires_at:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.707Z debug(compaction): 1: TransferPending:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.707Z debug(compaction): 1: TransferPending.status:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.708Z debug(replica): 0n: execute_op: executing view=2 primary=false op=161 checksum=06b4b4d731443eb2aa010b9e85e0ccea (create_transfers)
2026-01-23 20:17:13.708Z debug(replica): 0n: execute_op: commit_timestamp=1769199243223859995 prepare.header.timestamp=1769199248479849827
2026-01-23 20:17:13.719Z debug(replica): 0n: client_table_entry_update: client=20646316583567733131642247745484281958 session=2 request=159
2026-01-23 20:17:13.719Z debug(forest): entering forest.compact() op=161 constants.lsm_compaction_ops=32 first_beat=false last_half_beat=false half_beat=false last_beat=false
2026-01-23 20:17:13.726Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:13.726Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:13.727Z debug(replica): 0n: commit_start_journal: cached prepare op=162 checksum=e63bd6aaaa459b6b63f8aa778f864b4d
2026-01-23 20:17:13.727Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=188743680 len=4096 unlocked
2026-01-23 20:17:13.727Z debug(journal): 0: write_header: op=180 sectors[45056..49152]
2026-01-23 20:17:13.727Z debug(replica): 0n: on_message: view=2 status=normal Commit{ .checksum=f0baa282c3a913f6e31b730dfa6ac36a, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.commit, .replica=2, .commit_checksum=ccb1d15454d325df8d1fe6e2c959d751, .checkpoint_id=f222e9ce156b309eaeb4af665242ac18, .checkpoint_op=0, .commit=198, .timestamp_monotonic=41314702692485821 }
2026-01-23 20:17:13.727Z debug(vsr): 0: normal_heartbeat_timeout reset
2026-01-23 20:17:13.727Z debug(replica): 0n: on_commit: checksum verified
2026-01-23 20:17:13.727Z debug(replica): 0n: commit_journal: already committing (reply_setup; commit_min=161)
2026-01-23 20:17:13.727Z debug(replica): 0n: on_message: view=2 status=normal PingClient{ .checksum=32db352c20071f7288a84202b25b33a4, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.1, .protocol=0, .command=vsr.Command.ping_client, .replica=0, .client=20646316583567733131642247745484281958, .ping_timestamp_monotonic=41314704376562552 }
2026-01-23 20:17:13.727Z debug(replica): 0n: sending pong_client to client 20646316583567733131642247745484281958: PongClient{ .checksum=02dc322fe85c1800c7fe861a6fb46445, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.1, .protocol=0, .command=vsr.Command.pong_client, .replica=0, .ping_timestamp_monotonic=41314704376562552 }
2026-01-23 20:17:13.729Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=a07db07e0681d4823a08d8aed726cf59, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=5448b306d961e5901d9925ad9c319c2e, .request_checksum=532ccd0e416578deacc7b93697c78a9d, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=178, .commit=177, .timestamp=1769199267781092605, .request=176, .operation=vsr.Operation(140) }
2026-01-23 20:17:13.729Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:13.729Z debug(replica): 0n: repair_header: op=178 checksum=a07db07e0681d4823a08d8aed726cf59 (checksum dirty)
2026-01-23 20:17:13.729Z debug(journal): 0: set_header_as_dirty: op=178 checksum=a07db07e0681d4823a08d8aed726cf59
2026-01-23 20:17:13.729Z debug(replica): 0n: write_prepare: ignoring op=178 checksum=a07db07e0681d4823a08d8aed726cf59 (already writing exact)
2026-01-23 20:17:13.729Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=1fda0feb94a37af3f4b35f082d369c7c, .checksum_body=e2cd4faa8aaeec184729698560897a2e, .cluster=0, .size=315520, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=5c753a207b3384ff814c657c30a607c0, .request_checksum=f100d0841ba6b809d1abcecd3eae86f2, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=181, .commit=180, .timestamp=1769199270214251833, .request=179, .operation=vsr.Operation(139) }
2026-01-23 20:17:13.729Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:13.729Z debug(replica): 0n: repair_header: op=181 checksum=1fda0feb94a37af3f4b35f082d369c7c (checksum dirty)
2026-01-23 20:17:13.729Z debug(journal): 0: set_header_as_dirty: op=181 checksum=1fda0feb94a37af3f4b35f082d369c7c
2026-01-23 20:17:13.729Z debug(journal): 0: write: view=1 slot=181 op=181 len=315520: 1fda0feb94a37af3f4b35f082d369c7c starting
2026-01-23 20:17:13.729Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=189792256 len=319488 locked
2026-01-23 20:17:13.729Z debug(replica): 0n: on_repair: repairing journal op=181
2026-01-23 20:17:13.729Z debug(replica): 0n: commit_journal: already committing (reply_setup; commit_min=161)
2026-01-23 20:17:13.729Z debug(replica): 0n: repair_prepare: op=178 checksum=a07db07e0681d4823a08d8aed726cf59 (already writing)
2026-01-23 20:17:13.729Z debug(replica): 0n: repair_prepare: op=179 checksum=044acab73ef5696fe3eb79791e8671d8 (already writing)
2026-01-23 20:17:13.729Z debug(replica): 0n: repair_prepare: op=180 checksum=5c753a207b3384ff814c657c30a607c0 (already writing)
2026-01-23 20:17:13.729Z debug(replica): 0n: repair_prepare: op=181 checksum=1fda0feb94a37af3f4b35f082d369c7c (already writing)
2026-01-23 20:17:13.729Z debug(replica): 0n: repair_prepare: op=182 checksum=d4a744d75bae35cb7c0a5a79d4d7075e replica=1 latency=1436ms (committed, dirty, normal)
2026-01-23 20:17:13.729Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=5e027085487e50aefa0ece9d9a89a3ca, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=d4a744d75bae35cb7c0a5a79d4d7075e, .prepare_op=182 }
2026-01-23 20:17:13.729Z debug(replica): 0n: repair_prepare: op=183 checksum=5a23f302e9e9a0a10e8b24f9635e6c58 replica=2 latency=1387ms (committed, dirty, normal)
2026-01-23 20:17:13.729Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=12840ed4dee7416f737c58896e93b67c, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=5a23f302e9e9a0a10e8b24f9635e6c58, .prepare_op=183 }
2026-01-23 20:17:13.729Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:13.729Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:13.729Z debug(replica): 0n: commit_journal: already committing (reply_setup; commit_min=161)
2026-01-23 20:17:13.729Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=5c753a207b3384ff814c657c30a607c0, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=044acab73ef5696fe3eb79791e8671d8, .request_checksum=6c6a9836dde6bfa2bebf7c4efebd4f84, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=180, .commit=179, .timestamp=1769199270194734884, .request=178, .operation=vsr.Operation(140) }
2026-01-23 20:17:13.729Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=12840ed4dee7416f737c58896e93b67c, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=5a23f302e9e9a0a10e8b24f9635e6c58, .prepare_op=183 }
2026-01-23 20:17:13.729Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:13.729Z debug(replica): 0n: repair_header: op=180 checksum=5c753a207b3384ff814c657c30a607c0 (checksum dirty)
2026-01-23 20:17:13.729Z debug(journal): 0: set_header_as_dirty: op=180 checksum=5c753a207b3384ff814c657c30a607c0
2026-01-23 20:17:13.729Z debug(replica): 0n: write_prepare: ignoring op=180 checksum=5c753a207b3384ff814c657c30a607c0 (already writing exact)
2026-01-23 20:17:13.730Z debug(client_replies): 0: write_reply: wrote (client=20646316583567733131642247745484281958 request=158)
2026-01-23 20:17:13.730Z debug(replica): 0n: execute_op: executing view=2 primary=false op=162 checksum=e63bd6aaaa459b6b63f8aa778f864b4d (lookup_accounts)
2026-01-23 20:17:13.730Z debug(replica): 0n: execute_op: commit_timestamp=1769199248479849827 prepare.header.timestamp=1769199251583274666
2026-01-23 20:17:13.730Z debug(replica): 0n: client_table_entry_update: client=20646316583567733131642247745484281958 session=2 request=160
2026-01-23 20:17:13.730Z debug(forest): entering forest.compact() op=162 constants.lsm_compaction_ops=32 first_beat=false last_half_beat=false half_beat=false last_beat=false
2026-01-23 20:17:13.730Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 unlocked
2026-01-23 20:17:13.730Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 locked
2026-01-23 20:17:13.730Z debug(journal): 0: write: view=1 slot=178 op=178 len=2320: a07db07e0681d4823a08d8aed726cf59 complete, marking clean
2026-01-23 20:17:13.730Z debug(replica): 0n: send_prepare_ok: op=178 checksum=a07db07e0681d4823a08d8aed726cf59
2026-01-23 20:17:13.730Z debug(replica): 0n: sending prepare_ok to replica 2: PrepareOk{ .checksum=0070962ec8c543b7f70065cf774ec3df, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=5448b306d961e5901d9925ad9c319c2e, .prepare_checksum=a07db07e0681d4823a08d8aed726cf59, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=178, .commit_min=162, .timestamp=1769199267781092605, .request=176, .operation=vsr.Operation(140) }
2026-01-23 20:17:13.730Z debug(replica): 0n: commit_start_journal: cached prepare op=163 checksum=7f735e2e4df75caa3e24bdb2fe8dc8e6
2026-01-23 20:17:13.730Z debug(replica): 2N: on_request_prepare_read: op=183 checksum=5a23f302e9e9a0a10e8b24f9635e6c58 sending to replica=0
2026-01-23 20:17:13.730Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=5a23f302e9e9a0a10e8b24f9635e6c58, .checksum_body=8ced34f27bed05b91f8b197407d0f573, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=d4a744d75bae35cb7c0a5a79d4d7075e, .request_checksum=3b2bb6c9e57b5805dcda6e0a71c2ca16, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=183, .commit=182, .timestamp=1769199272526302888, .request=181, .operation=vsr.Operation(141) }
2026-01-23 20:17:13.730Z debug(replica): 2N: on_message: view=2 status=normal PrepareOk{ .checksum=0070962ec8c543b7f70065cf774ec3df, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=5448b306d961e5901d9925ad9c319c2e, .prepare_checksum=a07db07e0681d4823a08d8aed726cf59, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=178, .commit_min=162, .timestamp=1769199267781092605, .request=176, .operation=vsr.Operation(140) }
2026-01-23 20:17:13.730Z debug(replica): 2N: on_prepare_ok: not preparing op=178 checksum=a07db07e0681d4823a08d8aed726cf59
2026-01-23 20:17:13.731Z debug(replica): 1n: on_message: view=2 status=normal PingClient{ .checksum=32db352c20071f7288a84202b25b33a4, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.1, .protocol=0, .command=vsr.Command.ping_client, .replica=0, .client=20646316583567733131642247745484281958, .ping_timestamp_monotonic=41314704376562552 }
2026-01-23 20:17:13.731Z debug(replica): 1n: sending pong_client to client 20646316583567733131642247745484281958: PongClient{ .checksum=28ef60914de709a995341b2b8689821f, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.1, .protocol=0, .command=vsr.Command.pong_client, .replica=1, .ping_timestamp_monotonic=41314704376562552 }
2026-01-23 20:17:13.731Z debug(replica): 1n: on_message: view=2 status=normal RequestPrepare{ .checksum=5e027085487e50aefa0ece9d9a89a3ca, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=d4a744d75bae35cb7c0a5a79d4d7075e, .prepare_op=182 }
2026-01-23 20:17:13.731Z debug(client_replies): 1: write_reply: wrote (client=20646316583567733131642247745484281958 request=155)
2026-01-23 20:17:13.731Z debug(replica): 1n: on_request_prepare_read: op=182 checksum=d4a744d75bae35cb7c0a5a79d4d7075e sending to replica=0
2026-01-23 20:17:13.731Z debug(replica): 1n: sending prepare to replica 0: Prepare{ .checksum=d4a744d75bae35cb7c0a5a79d4d7075e, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=1fda0feb94a37af3f4b35f082d369c7c, .request_checksum=49784d4772187b1f255bac2fefa6d110, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=182, .commit=181, .timestamp=1769199270259953782, .request=180, .operation=vsr.Operation(140) }
2026-01-23 20:17:13.734Z debug(compaction): AccountEvent:0: beat_complete: quota_beat_done=20470 quota_beat=19966 quota_bar_done=128961 quota_bar=154694
2026-01-23 20:17:13.738Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=d4a744d75bae35cb7c0a5a79d4d7075e, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=1fda0feb94a37af3f4b35f082d369c7c, .request_checksum=49784d4772187b1f255bac2fefa6d110, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=182, .commit=181, .timestamp=1769199270259953782, .request=180, .operation=vsr.Operation(140) }
2026-01-23 20:17:13.738Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:13.738Z debug(replica): 0n: repair_header: op=182 checksum=d4a744d75bae35cb7c0a5a79d4d7075e (checksum dirty)
2026-01-23 20:17:13.738Z debug(journal): 0: set_header_as_dirty: op=182 checksum=d4a744d75bae35cb7c0a5a79d4d7075e
2026-01-23 20:17:13.738Z debug(journal): 0: write: view=1 slot=182 op=182 len=2320: d4a744d75bae35cb7c0a5a79d4d7075e starting
2026-01-23 20:17:13.738Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=190840832 len=4096 locked
2026-01-23 20:17:13.738Z debug(replica): 0n: on_repair: repairing journal op=182
2026-01-23 20:17:13.738Z debug(replica): 0n: commit_journal: already committing (reply_setup; commit_min=162)
2026-01-23 20:17:13.738Z debug(replica): 0n: repair_prepare: op=179 checksum=044acab73ef5696fe3eb79791e8671d8 (already writing)
2026-01-23 20:17:13.738Z debug(replica): 0n: repair_prepare: op=180 checksum=5c753a207b3384ff814c657c30a607c0 (already writing)
2026-01-23 20:17:13.738Z debug(replica): 0n: repair_prepare: op=181 checksum=1fda0feb94a37af3f4b35f082d369c7c (already writing)
2026-01-23 20:17:13.738Z debug(replica): 0n: repair_prepare: op=182 checksum=d4a744d75bae35cb7c0a5a79d4d7075e (already writing)
2026-01-23 20:17:13.738Z debug(replica): 0n: repair_prepare: op=184 checksum=e29951d5cdcca343baa33912a820a451 replica=1 latency=1151ms (committed, dirty, normal)
2026-01-23 20:17:13.738Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=d787053fc4719ccf01f050b27e10f17b, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=e29951d5cdcca343baa33912a820a451, .prepare_op=184 }
2026-01-23 20:17:13.738Z debug(replica): 0n: repair_prepare: op=185 checksum=3fc489f9d886990da1320e5d24ed1e06 replica=2 latency=1680ms (committed, dirty, normal)
2026-01-23 20:17:13.738Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=cfc46dcea0765906cefa728919d28181, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=3fc489f9d886990da1320e5d24ed1e06, .prepare_op=185 }
2026-01-23 20:17:13.739Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:13.739Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:13.739Z debug(replica): 0n: commit_journal: already committing (reply_setup; commit_min=162)
2026-01-23 20:17:13.739Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=1fda0feb94a37af3f4b35f082d369c7c, .checksum_body=e2cd4faa8aaeec184729698560897a2e, .cluster=0, .size=315520, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=5c753a207b3384ff814c657c30a607c0, .request_checksum=f100d0841ba6b809d1abcecd3eae86f2, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=181, .commit=180, .timestamp=1769199270214251833, .request=179, .operation=vsr.Operation(139) }
2026-01-23 20:17:13.739Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:13.739Z debug(replica): 0n: repair_header: op=181 checksum=1fda0feb94a37af3f4b35f082d369c7c (checksum dirty)
2026-01-23 20:17:13.739Z debug(journal): 0: set_header_as_dirty: op=181 checksum=1fda0feb94a37af3f4b35f082d369c7c
2026-01-23 20:17:13.739Z debug(replica): 0n: write_prepare: ignoring op=181 checksum=1fda0feb94a37af3f4b35f082d369c7c (already writing exact)
2026-01-23 20:17:13.739Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=5a23f302e9e9a0a10e8b24f9635e6c58, .checksum_body=8ced34f27bed05b91f8b197407d0f573, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=d4a744d75bae35cb7c0a5a79d4d7075e, .request_checksum=3b2bb6c9e57b5805dcda6e0a71c2ca16, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=183, .commit=182, .timestamp=1769199272526302888, .request=181, .operation=vsr.Operation(141) }
2026-01-23 20:17:13.739Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:13.739Z debug(replica): 0n: repair_header: op=183 checksum=5a23f302e9e9a0a10e8b24f9635e6c58 (checksum dirty)
2026-01-23 20:17:13.739Z debug(journal): 0: set_header_as_dirty: op=183 checksum=5a23f302e9e9a0a10e8b24f9635e6c58
2026-01-23 20:17:13.739Z debug(journal): 0: write: view=1 slot=183 op=183 len=128944: 5a23f302e9e9a0a10e8b24f9635e6c58 starting
2026-01-23 20:17:13.739Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=191889408 len=131072 locked
2026-01-23 20:17:13.739Z debug(replica): 0n: on_repair: repairing journal op=183
2026-01-23 20:17:13.739Z debug(replica): 0n: commit_journal: already committing (reply_setup; commit_min=162)
2026-01-23 20:17:13.739Z debug(replica): 0n: repair_prepare: op=179 checksum=044acab73ef5696fe3eb79791e8671d8 (already writing)
2026-01-23 20:17:13.739Z debug(replica): 0n: repair_prepare: op=180 checksum=5c753a207b3384ff814c657c30a607c0 (already writing)
2026-01-23 20:17:13.739Z debug(replica): 0n: repair_prepare: op=181 checksum=1fda0feb94a37af3f4b35f082d369c7c (already writing)
2026-01-23 20:17:13.739Z debug(replica): 0n: repair_prepare: op=182 checksum=d4a744d75bae35cb7c0a5a79d4d7075e (already writing)
2026-01-23 20:17:13.739Z debug(replica): 0n: repair_prepare: op=183 checksum=5a23f302e9e9a0a10e8b24f9635e6c58 (already writing)
2026-01-23 20:17:13.739Z debug(replica): 0n: repair_prepare: op=184 checksum=e29951d5cdcca343baa33912a820a451 replica=2 latency=1346ms (committed, dirty, normal)
2026-01-23 20:17:13.739Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=d787053fc4719ccf01f050b27e10f17b, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=e29951d5cdcca343baa33912a820a451, .prepare_op=184 }
2026-01-23 20:17:13.739Z debug(replica): 0n: repair_prepare: op=185 checksum=3fc489f9d886990da1320e5d24ed1e06 replica=1 latency=1491ms (committed, dirty, normal)
2026-01-23 20:17:13.739Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=cfc46dcea0765906cefa728919d28181, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=3fc489f9d886990da1320e5d24ed1e06, .prepare_op=185 }
2026-01-23 20:17:13.739Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:13.739Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:13.740Z debug(replica): 0n: commit_journal: already committing (reply_setup; commit_min=162)
2026-01-23 20:17:13.740Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=d4a744d75bae35cb7c0a5a79d4d7075e, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=1fda0feb94a37af3f4b35f082d369c7c, .request_checksum=49784d4772187b1f255bac2fefa6d110, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=182, .commit=181, .timestamp=1769199270259953782, .request=180, .operation=vsr.Operation(140) }
2026-01-23 20:17:13.740Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:13.740Z debug(replica): 0n: repair_header: op=182 checksum=d4a744d75bae35cb7c0a5a79d4d7075e (checksum dirty)
2026-01-23 20:17:13.740Z debug(journal): 0: set_header_as_dirty: op=182 checksum=d4a744d75bae35cb7c0a5a79d4d7075e
2026-01-23 20:17:13.740Z debug(replica): 0n: write_prepare: ignoring op=182 checksum=d4a744d75bae35cb7c0a5a79d4d7075e (already writing exact)
2026-01-23 20:17:13.740Z debug(client_replies): 0: write_reply: wrote (client=20646316583567733131642247745484281958 request=159)
2026-01-23 20:17:13.740Z debug(replica): 0n: execute_op: executing view=2 primary=false op=163 checksum=7f735e2e4df75caa3e24bdb2fe8dc8e6 (create_transfers)
2026-01-23 20:17:13.740Z debug(replica): 0n: execute_op: commit_timestamp=1769199251583274666 prepare.header.timestamp=1769199257176718694
2026-01-23 20:17:13.746Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:13.746Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:13.749Z debug(replica): 1n: on_message: view=2 status=normal RequestPrepare{ .checksum=d787053fc4719ccf01f050b27e10f17b, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=e29951d5cdcca343baa33912a820a451, .prepare_op=184 }
2026-01-23 20:17:13.749Z debug(replica): 1n: execute_op: executing view=2 primary=false op=158 checksum=657ffb6bec99163f01414e55d9c45d12 (lookup_accounts)
2026-01-23 20:17:13.749Z debug(replica): 1n: execute_op: commit_timestamp=1769199237714065475 prepare.header.timestamp=1769199240301771635
2026-01-23 20:17:13.749Z debug(replica): 1n: client_table_entry_update: client=20646316583567733131642247745484281958 session=2 request=156
2026-01-23 20:17:13.750Z debug(forest): entering forest.compact() op=158 constants.lsm_compaction_ops=32 first_beat=false last_half_beat=false half_beat=false last_beat=false
2026-01-23 20:17:13.750Z debug(compaction): 1: Account.id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.750Z debug(compaction): 1: Account.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.750Z debug(compaction): 1: Account.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.750Z debug(compaction): 1: Account.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.750Z debug(compaction): 1: Account.ledger:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.750Z debug(compaction): 1: Account.code:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.750Z debug(compaction): 1: Account:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.750Z debug(compaction): 1: Transfer.id:0: beat_commence: bar quota=155075 fulfilled, done=155075
2026-01-23 20:17:13.750Z debug(compaction): 1: Transfer.debit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:13.750Z debug(compaction): 1: Transfer.credit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:13.750Z debug(compaction): 1: Transfer.amount:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:13.750Z debug(compaction): 1: Transfer.pending_id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.750Z debug(compaction): 1: Transfer.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.750Z debug(compaction): 1: Transfer.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.750Z debug(compaction): 1: Transfer.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.750Z debug(compaction): 1: Transfer.ledger:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:13.750Z debug(compaction): 1: Transfer.code:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:13.750Z debug(compaction): 1: Transfer:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:13.750Z debug(compaction): 1: Transfer.expires_at:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.750Z debug(compaction): 1: TransferPending:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.750Z debug(compaction): 1: TransferPending.status:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.766Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:13.766Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:13.766Z debug(vsr): 2: journal_repair_timeout fired
2026-01-23 20:17:13.766Z debug(vsr): 2: journal_repair_timeout reset
2026-01-23 20:17:13.766Z debug(vsr): 2: pulse_timeout fired
2026-01-23 20:17:13.766Z debug(vsr): 2: pulse_timeout reset
2026-01-23 20:17:13.767Z debug(replica): 0n: client_table_entry_update: client=20646316583567733131642247745484281958 session=2 request=161
2026-01-23 20:17:13.768Z debug(replica): 0n: execute_op: replying to client: Reply{ .checksum=a4a3a0dc129e5d80a9a0b950a595993c, .checksum_body=c67fc6e9a24c9f86eeb4315321b9bb37, .cluster=0, .size=328, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=66897b48ec2ebfa70969bea736d6ed98, .context=5b7b2e60b86c5955c8e094e8321c8c73, .client=20646316583567733131642247745484281958, .op=163, .commit=163, .timestamp=1769199257176718694, .request=161, .operation=vsr.Operation(139) }
2026-01-23 20:17:13.768Z debug(replica): 0n: sending reply to client 20646316583567733131642247745484281958: Reply{ .checksum=ace6c34d9d8058b4b220cc383361e164, .checksum_body=c67fc6e9a24c9f86eeb4315321b9bb37, .cluster=0, .size=328, .epoch=0, .view=2, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=66897b48ec2ebfa70969bea736d6ed98, .context=5b7b2e60b86c5955c8e094e8321c8c73, .client=20646316583567733131642247745484281958, .op=163, .commit=163, .timestamp=1769199257176718694, .request=161, .operation=vsr.Operation(139) }
2026-01-23 20:17:13.768Z debug(forest): entering forest.compact() op=163 constants.lsm_compaction_ops=32 first_beat=false last_half_beat=false half_beat=false last_beat=false
2026-01-23 20:17:13.768Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 unlocked
2026-01-23 20:17:13.768Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 locked
2026-01-23 20:17:13.768Z debug(journal): 0: write: view=1 slot=179 op=179 len=128944: 044acab73ef5696fe3eb79791e8671d8 complete, marking clean
2026-01-23 20:17:13.768Z debug(replica): 0n: send_prepare_ok: op=179 checksum=044acab73ef5696fe3eb79791e8671d8
2026-01-23 20:17:13.768Z debug(replica): 0n: sending prepare_ok to replica 2: PrepareOk{ .checksum=ad60af4df365078c6fcbda5160cc0821, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=a07db07e0681d4823a08d8aed726cf59, .prepare_checksum=044acab73ef5696fe3eb79791e8671d8, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=179, .commit_min=163, .timestamp=1769199267831748106, .request=177, .operation=vsr.Operation(141) }
2026-01-23 20:17:13.768Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=189792256 len=319488 unlocked
2026-01-23 20:17:13.768Z debug(journal): 0: write_header: op=181 sectors[45056..49152]
2026-01-23 20:17:13.769Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=5a23f302e9e9a0a10e8b24f9635e6c58, .checksum_body=8ced34f27bed05b91f8b197407d0f573, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=d4a744d75bae35cb7c0a5a79d4d7075e, .request_checksum=3b2bb6c9e57b5805dcda6e0a71c2ca16, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=183, .commit=182, .timestamp=1769199272526302888, .request=181, .operation=vsr.Operation(141) }
2026-01-23 20:17:13.769Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:13.769Z debug(replica): 0n: repair_header: op=183 checksum=5a23f302e9e9a0a10e8b24f9635e6c58 (checksum dirty)
2026-01-23 20:17:13.769Z debug(journal): 0: set_header_as_dirty: op=183 checksum=5a23f302e9e9a0a10e8b24f9635e6c58
2026-01-23 20:17:13.769Z debug(replica): 0n: write_prepare: ignoring op=183 checksum=5a23f302e9e9a0a10e8b24f9635e6c58 (already writing exact)
2026-01-23 20:17:13.773Z debug(vsr): 1: journal_repair_budget_timeout fired
2026-01-23 20:17:13.773Z debug(vsr): 1: journal_repair_budget_timeout reset
2026-01-23 20:17:13.773Z debug(vsr): 1: journal_repair_timeout fired
2026-01-23 20:17:13.773Z debug(vsr): 1: journal_repair_timeout reset
2026-01-23 20:17:13.773Z debug(replica): 1n: commit_journal: already committing (compact; commit_min=158)
2026-01-23 20:17:13.774Z debug(replica): 1n: on_request_prepare_read: op=184 checksum=e29951d5cdcca343baa33912a820a451 sending to replica=0
2026-01-23 20:17:13.774Z debug(replica): 1n: sending prepare to replica 0: Prepare{ .checksum=e29951d5cdcca343baa33912a820a451, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=5a23f302e9e9a0a10e8b24f9635e6c58, .request_checksum=263b5b27e253415cc258716dfe255e71, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=184, .commit=183, .timestamp=1769199272549945944, .request=182, .operation=vsr.Operation(140) }
2026-01-23 20:17:13.774Z debug(client_replies): 1: write_reply: wrote (client=20646316583567733131642247745484281958 request=156)
2026-01-23 20:17:13.774Z debug(replica): 1n: on_message: view=2 status=normal RequestPrepare{ .checksum=cfc46dcea0765906cefa728919d28181, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=3fc489f9d886990da1320e5d24ed1e06, .prepare_op=185 }
2026-01-23 20:17:13.776Z debug(replica): 1n: on_request_prepare_read: op=185 checksum=3fc489f9d886990da1320e5d24ed1e06 sending to replica=0
2026-01-23 20:17:13.776Z debug(replica): 1n: sending prepare to replica 0: Prepare{ .checksum=3fc489f9d886990da1320e5d24ed1e06, .checksum_body=037d4c0f6dbbdc228004c4a01dcbf2f7, .cluster=0, .size=409984, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=e29951d5cdcca343baa33912a820a451, .request_checksum=783b2673507dbe47c37805a0ccfdd0e4, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=185, .commit=184, .timestamp=1769199272587574357, .request=183, .operation=vsr.Operation(139) }
2026-01-23 20:17:13.777Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=cfc46dcea0765906cefa728919d28181, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=3fc489f9d886990da1320e5d24ed1e06, .prepare_op=185 }
2026-01-23 20:17:13.777Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=d787053fc4719ccf01f050b27e10f17b, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=e29951d5cdcca343baa33912a820a451, .prepare_op=184 }
2026-01-23 20:17:13.777Z debug(replica): 2N: on_message: view=2 status=normal PrepareOk{ .checksum=ad60af4df365078c6fcbda5160cc0821, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=a07db07e0681d4823a08d8aed726cf59, .prepare_checksum=044acab73ef5696fe3eb79791e8671d8, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=179, .commit_min=163, .timestamp=1769199267831748106, .request=177, .operation=vsr.Operation(141) }
2026-01-23 20:17:13.777Z debug(replica): 2N: on_prepare_ok: not preparing op=179 checksum=044acab73ef5696fe3eb79791e8671d8
2026-01-23 20:17:13.777Z debug(compaction): AccountEvent:0: beat_complete: quota_beat_done=20470 quota_beat=19713 quota_bar_done=149431 quota_bar=154694
2026-01-23 20:17:13.777Z debug(replica): 2N: on_request_prepare_read: op=184 checksum=e29951d5cdcca343baa33912a820a451 sending to replica=0
2026-01-23 20:17:13.777Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=e29951d5cdcca343baa33912a820a451, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=5a23f302e9e9a0a10e8b24f9635e6c58, .request_checksum=263b5b27e253415cc258716dfe255e71, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=184, .commit=183, .timestamp=1769199272549945944, .request=182, .operation=vsr.Operation(140) }
2026-01-23 20:17:13.779Z debug(replica): 2N: on_request_prepare_read: op=185 checksum=3fc489f9d886990da1320e5d24ed1e06 sending to replica=0
2026-01-23 20:17:13.779Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=3fc489f9d886990da1320e5d24ed1e06, .checksum_body=037d4c0f6dbbdc228004c4a01dcbf2f7, .cluster=0, .size=409984, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=e29951d5cdcca343baa33912a820a451, .request_checksum=783b2673507dbe47c37805a0ccfdd0e4, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=185, .commit=184, .timestamp=1769199272587574357, .request=183, .operation=vsr.Operation(139) }
2026-01-23 20:17:13.782Z debug(replica): 1n: execute_op: executing view=2 primary=false op=159 checksum=2e249290f52680d75719c13f85199c87 (create_transfers)
2026-01-23 20:17:13.782Z debug(replica): 1n: execute_op: commit_timestamp=1769199240301771635 prepare.header.timestamp=1769199243160093490
2026-01-23 20:17:13.783Z debug(replica): 0n: commit_start_journal: cached prepare op=164 checksum=fb82aa94568c620c9b30423fcf0fec0e
2026-01-23 20:17:13.783Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=190840832 len=4096 unlocked
2026-01-23 20:17:13.783Z debug(journal): 0: write_header: op=182 sectors[45056..49152]
2026-01-23 20:17:13.783Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=191889408 len=131072 unlocked
2026-01-23 20:17:13.783Z debug(journal): 0: write_header: op=183 sectors[45056..49152]
2026-01-23 20:17:13.783Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=e29951d5cdcca343baa33912a820a451, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=5a23f302e9e9a0a10e8b24f9635e6c58, .request_checksum=263b5b27e253415cc258716dfe255e71, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=184, .commit=183, .timestamp=1769199272549945944, .request=182, .operation=vsr.Operation(140) }
2026-01-23 20:17:13.783Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:13.783Z debug(replica): 0n: repair_header: op=184 checksum=e29951d5cdcca343baa33912a820a451 (checksum dirty)
2026-01-23 20:17:13.783Z debug(journal): 0: set_header_as_dirty: op=184 checksum=e29951d5cdcca343baa33912a820a451
2026-01-23 20:17:13.783Z debug(journal): 0: write: view=1 slot=184 op=184 len=2320: e29951d5cdcca343baa33912a820a451 starting
2026-01-23 20:17:13.783Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=192937984 len=4096 locked
2026-01-23 20:17:13.783Z debug(replica): 0n: on_repair: repairing journal op=184
2026-01-23 20:17:13.783Z debug(replica): 0n: commit_journal: already committing (reply_setup; commit_min=163)
2026-01-23 20:17:13.783Z debug(replica): 0n: repair_prepare: op=180 checksum=5c753a207b3384ff814c657c30a607c0 (already writing)
2026-01-23 20:17:13.783Z debug(replica): 0n: repair_prepare: op=181 checksum=1fda0feb94a37af3f4b35f082d369c7c (already writing)
2026-01-23 20:17:13.783Z debug(replica): 0n: repair_prepare: op=182 checksum=d4a744d75bae35cb7c0a5a79d4d7075e (already writing)
2026-01-23 20:17:13.783Z debug(replica): 0n: repair_prepare: op=183 checksum=5a23f302e9e9a0a10e8b24f9635e6c58 (already writing)
2026-01-23 20:17:13.783Z debug(replica): 0n: repair_prepare: op=184 checksum=e29951d5cdcca343baa33912a820a451 (already writing)
2026-01-23 20:17:13.783Z debug(replica): 0n: repair_prepare: op=186 checksum=7ff6cf3dba009784ed45b9a24b2f8eff replica=2 latency=1085ms (committed, dirty, normal)
2026-01-23 20:17:13.783Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=fbb78ff0e4fce01523991ab9b2435fc8, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=7ff6cf3dba009784ed45b9a24b2f8eff, .prepare_op=186 }
2026-01-23 20:17:13.783Z debug(replica): 0n: repair_prepare: op=187 checksum=fc9c8cbdef2477bc6860309adb28e299 replica=1 latency=1202ms (committed, dirty, normal)
2026-01-23 20:17:13.783Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=7e3569429afb61445383a9a5bf0b6ad1, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=fc9c8cbdef2477bc6860309adb28e299, .prepare_op=187 }
2026-01-23 20:17:13.783Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:13.783Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=fbb78ff0e4fce01523991ab9b2435fc8, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=7ff6cf3dba009784ed45b9a24b2f8eff, .prepare_op=186 }
2026-01-23 20:17:13.783Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:13.783Z debug(replica): 0n: commit_journal: already committing (reply_setup; commit_min=163)
2026-01-23 20:17:13.783Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=e29951d5cdcca343baa33912a820a451, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=5a23f302e9e9a0a10e8b24f9635e6c58, .request_checksum=263b5b27e253415cc258716dfe255e71, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=184, .commit=183, .timestamp=1769199272549945944, .request=182, .operation=vsr.Operation(140) }
2026-01-23 20:17:13.783Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:13.783Z debug(replica): 0n: repair_header: op=184 checksum=e29951d5cdcca343baa33912a820a451 (checksum dirty)
2026-01-23 20:17:13.783Z debug(journal): 0: set_header_as_dirty: op=184 checksum=e29951d5cdcca343baa33912a820a451
2026-01-23 20:17:13.783Z debug(replica): 0n: write_prepare: ignoring op=184 checksum=e29951d5cdcca343baa33912a820a451 (already writing exact)
2026-01-23 20:17:13.783Z debug(replica): 2N: on_request_prepare_read: op=186 checksum=7ff6cf3dba009784ed45b9a24b2f8eff sending to replica=0
2026-01-23 20:17:13.783Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=7ff6cf3dba009784ed45b9a24b2f8eff, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=3fc489f9d886990da1320e5d24ed1e06, .request_checksum=a42d6505d08edc4915abf354971d3784, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=186, .commit=185, .timestamp=1769199272633023199, .request=184, .operation=vsr.Operation(140) }
2026-01-23 20:17:13.784Z debug(client_replies): 0: write_reply: wrote (client=20646316583567733131642247745484281958 request=160)
2026-01-23 20:17:13.784Z debug(replica): 0n: execute_op: executing view=2 primary=false op=164 checksum=fb82aa94568c620c9b30423fcf0fec0e (lookup_accounts)
2026-01-23 20:17:13.784Z debug(replica): 0n: execute_op: commit_timestamp=1769199257176718694 prepare.header.timestamp=1769199257261707532
2026-01-23 20:17:13.784Z debug(replica): 0n: client_table_entry_update: client=20646316583567733131642247745484281958 session=2 request=162
2026-01-23 20:17:13.784Z debug(replica): 0n: execute_op: replying to client: Reply{ .checksum=0f5c868f5c806cf6fc0800102eab5d5b, .checksum_body=45019e3fdf8024f5dd9ced40757e917f, .cluster=0, .size=16768, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=d2c123f9fa79597cc16caeb93a49f748, .context=90b4d7e3fa959c6e32251bf2f66e4fc2, .client=20646316583567733131642247745484281958, .op=164, .commit=164, .timestamp=1769199257261707532, .request=162, .operation=vsr.Operation(140) }
2026-01-23 20:17:13.784Z debug(replica): 0n: sending reply to client 20646316583567733131642247745484281958: Reply{ .checksum=c9d536ec58e1ddbd1ed1dd7de9d2dcbd, .checksum_body=45019e3fdf8024f5dd9ced40757e917f, .cluster=0, .size=16768, .epoch=0, .view=2, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=d2c123f9fa79597cc16caeb93a49f748, .context=90b4d7e3fa959c6e32251bf2f66e4fc2, .client=20646316583567733131642247745484281958, .op=164, .commit=164, .timestamp=1769199257261707532, .request=162, .operation=vsr.Operation(140) }
2026-01-23 20:17:13.784Z debug(forest): entering forest.compact() op=164 constants.lsm_compaction_ops=32 first_beat=false last_half_beat=false half_beat=false last_beat=false
2026-01-23 20:17:13.784Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 unlocked
2026-01-23 20:17:13.784Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 locked
2026-01-23 20:17:13.784Z debug(journal): 0: write: view=1 slot=180 op=180 len=2320: 5c753a207b3384ff814c657c30a607c0 complete, marking clean
2026-01-23 20:17:13.784Z debug(replica): 0n: send_prepare_ok: op=180 checksum=5c753a207b3384ff814c657c30a607c0
2026-01-23 20:17:13.784Z debug(replica): 0n: sending prepare_ok to replica 2: PrepareOk{ .checksum=63fbafda1e7b1a5c3f623fc46a519128, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=044acab73ef5696fe3eb79791e8671d8, .prepare_checksum=5c753a207b3384ff814c657c30a607c0, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=180, .commit_min=164, .timestamp=1769199270194734884, .request=178, .operation=vsr.Operation(140) }
2026-01-23 20:17:13.785Z debug(replica): 2N: on_message: view=2 status=normal PrepareOk{ .checksum=63fbafda1e7b1a5c3f623fc46a519128, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=044acab73ef5696fe3eb79791e8671d8, .prepare_checksum=5c753a207b3384ff814c657c30a607c0, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=180, .commit_min=164, .timestamp=1769199270194734884, .request=178, .operation=vsr.Operation(140) }
2026-01-23 20:17:13.785Z debug(replica): 2N: on_prepare_ok: not preparing op=180 checksum=5c753a207b3384ff814c657c30a607c0
2026-01-23 20:17:13.786Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:13.786Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:13.787Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=3fc489f9d886990da1320e5d24ed1e06, .checksum_body=037d4c0f6dbbdc228004c4a01dcbf2f7, .cluster=0, .size=409984, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=e29951d5cdcca343baa33912a820a451, .request_checksum=783b2673507dbe47c37805a0ccfdd0e4, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=185, .commit=184, .timestamp=1769199272587574357, .request=183, .operation=vsr.Operation(139) }
2026-01-23 20:17:13.787Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:13.787Z debug(replica): 0n: repair_header: op=185 checksum=3fc489f9d886990da1320e5d24ed1e06 (checksum dirty)
2026-01-23 20:17:13.787Z debug(journal): 0: set_header_as_dirty: op=185 checksum=3fc489f9d886990da1320e5d24ed1e06
2026-01-23 20:17:13.787Z debug(journal): 0: write: view=1 slot=185 op=185 len=409984: 3fc489f9d886990da1320e5d24ed1e06 starting
2026-01-23 20:17:13.787Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=193986560 len=413696 locked
2026-01-23 20:17:13.787Z debug(replica): 0n: on_repair: repairing journal op=185
2026-01-23 20:17:13.787Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=164)
2026-01-23 20:17:13.787Z debug(replica): 0n: repair_prepare: op=181 checksum=1fda0feb94a37af3f4b35f082d369c7c (already writing)
2026-01-23 20:17:13.787Z debug(replica): 0n: repair_prepare: op=182 checksum=d4a744d75bae35cb7c0a5a79d4d7075e (already writing)
2026-01-23 20:17:13.787Z debug(replica): 0n: repair_prepare: op=183 checksum=5a23f302e9e9a0a10e8b24f9635e6c58 (already writing)
2026-01-23 20:17:13.787Z debug(replica): 0n: repair_prepare: op=184 checksum=e29951d5cdcca343baa33912a820a451 (already writing)
2026-01-23 20:17:13.787Z debug(replica): 0n: repair_prepare: op=185 checksum=3fc489f9d886990da1320e5d24ed1e06 (already writing)
2026-01-23 20:17:13.787Z debug(replica): 0n: repair_prepare: op=186 checksum=7ff6cf3dba009784ed45b9a24b2f8eff replica=1 latency=971ms (committed, dirty, normal)
2026-01-23 20:17:13.787Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=fbb78ff0e4fce01523991ab9b2435fc8, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=7ff6cf3dba009784ed45b9a24b2f8eff, .prepare_op=186 }
2026-01-23 20:17:13.787Z debug(replica): 0n: repair_prepare: op=187 checksum=fc9c8cbdef2477bc6860309adb28e299 replica=2 latency=878ms (committed, dirty, normal)
2026-01-23 20:17:13.787Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=7e3569429afb61445383a9a5bf0b6ad1, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=fc9c8cbdef2477bc6860309adb28e299, .prepare_op=187 }
2026-01-23 20:17:13.787Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:13.787Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:13.787Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=164)
2026-01-23 20:17:13.787Z debug(replica): 0n: commit_start_journal: cached prepare op=165 checksum=74c79531babb09a2cd9ef86f2a9d8767
2026-01-23 20:17:13.791Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=192937984 len=4096 unlocked
2026-01-23 20:17:13.791Z debug(journal): 0: write_header: op=184 sectors[45056..49152]
2026-01-23 20:17:13.792Z debug(replica): 1n: client_table_entry_update: client=20646316583567733131642247745484281958 session=2 request=157
2026-01-23 20:17:13.792Z debug(forest): entering forest.compact() op=159 constants.lsm_compaction_ops=32 first_beat=false last_half_beat=false half_beat=false last_beat=true
2026-01-23 20:17:13.792Z debug(manifest_log): 1: flush: writing 0 block(s)
2026-01-23 20:17:13.792Z debug(compaction): 1: Account.id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.792Z debug(compaction): 1: Account.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.792Z debug(compaction): 1: Account.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.792Z debug(compaction): 1: Account.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.792Z debug(compaction): 1: Account.ledger:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.792Z debug(compaction): 1: Account.code:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.792Z debug(compaction): 1: Account:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.792Z debug(compaction): 1: Transfer.id:0: beat_commence: bar quota=155075 fulfilled, done=155075
2026-01-23 20:17:13.792Z debug(compaction): 1: Transfer.debit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:13.792Z debug(compaction): 1: Transfer.credit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:13.792Z debug(compaction): 1: Transfer.amount:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:13.792Z debug(compaction): 1: Transfer.pending_id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.792Z debug(compaction): 1: Transfer.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.792Z debug(compaction): 1: Transfer.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.792Z debug(compaction): 1: Transfer.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.792Z debug(compaction): 1: Transfer.ledger:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:13.792Z debug(compaction): 1: Transfer.code:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:13.792Z debug(compaction): 1: Transfer:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:13.792Z debug(compaction): 1: Transfer.expires_at:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.792Z debug(compaction): 1: TransferPending:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.792Z debug(compaction): 1: TransferPending.status:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:13.793Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=3fc489f9d886990da1320e5d24ed1e06, .checksum_body=037d4c0f6dbbdc228004c4a01dcbf2f7, .cluster=0, .size=409984, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=e29951d5cdcca343baa33912a820a451, .request_checksum=783b2673507dbe47c37805a0ccfdd0e4, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=185, .commit=184, .timestamp=1769199272587574357, .request=183, .operation=vsr.Operation(139) }
2026-01-23 20:17:13.793Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:13.793Z debug(replica): 0n: repair_header: op=185 checksum=3fc489f9d886990da1320e5d24ed1e06 (checksum dirty)
2026-01-23 20:17:13.793Z debug(journal): 0: set_header_as_dirty: op=185 checksum=3fc489f9d886990da1320e5d24ed1e06
2026-01-23 20:17:13.793Z debug(replica): 0n: write_prepare: ignoring op=185 checksum=3fc489f9d886990da1320e5d24ed1e06 (already writing exact)
2026-01-23 20:17:13.793Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=7ff6cf3dba009784ed45b9a24b2f8eff, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=3fc489f9d886990da1320e5d24ed1e06, .request_checksum=a42d6505d08edc4915abf354971d3784, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=186, .commit=185, .timestamp=1769199272633023199, .request=184, .operation=vsr.Operation(140) }
2026-01-23 20:17:13.793Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:13.793Z debug(replica): 0n: repair_header: op=186 checksum=7ff6cf3dba009784ed45b9a24b2f8eff (checksum dirty)
2026-01-23 20:17:13.793Z debug(journal): 0: set_header_as_dirty: op=186 checksum=7ff6cf3dba009784ed45b9a24b2f8eff
2026-01-23 20:17:13.793Z debug(journal): 0: write: view=1 slot=186 op=186 len=2320: 7ff6cf3dba009784ed45b9a24b2f8eff starting
2026-01-23 20:17:13.793Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=195035136 len=4096 locked
2026-01-23 20:17:13.793Z debug(replica): 0n: on_repair: repairing journal op=186
2026-01-23 20:17:13.793Z debug(replica): 0n: commit_journal: already committing (reply_setup; commit_min=164)
2026-01-23 20:17:13.793Z debug(replica): 0n: repair_prepare: op=181 checksum=1fda0feb94a37af3f4b35f082d369c7c (already writing)
2026-01-23 20:17:13.793Z debug(replica): 0n: repair_prepare: op=182 checksum=d4a744d75bae35cb7c0a5a79d4d7075e (already writing)
2026-01-23 20:17:13.793Z debug(replica): 0n: repair_prepare: op=183 checksum=5a23f302e9e9a0a10e8b24f9635e6c58 (already writing)
2026-01-23 20:17:13.793Z debug(replica): 0n: repair_prepare: op=184 checksum=e29951d5cdcca343baa33912a820a451 (already writing)
2026-01-23 20:17:13.793Z debug(replica): 0n: repair_prepare: op=185 checksum=3fc489f9d886990da1320e5d24ed1e06 (already writing)
2026-01-23 20:17:13.793Z debug(replica): 0n: repair_prepare: op=186 checksum=7ff6cf3dba009784ed45b9a24b2f8eff (already writing)
2026-01-23 20:17:13.793Z debug(replica): 0n: repair_prepare: op=188 checksum=b2e5ac0d0edcf4a3823a9eda3191f533 replica=2 latency=704ms (committed, dirty, normal)
2026-01-23 20:17:13.793Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=812bf6dc2ad53c0f30b0a250eb8515b0, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=b2e5ac0d0edcf4a3823a9eda3191f533, .prepare_op=188 }
2026-01-23 20:17:13.793Z debug(replica): 0n: repair_prepare: op=189 checksum=1f926b07747b1cfa16c8232687e6c8c2 replica=1 latency=778ms (committed, dirty, normal)
2026-01-23 20:17:13.806Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:13.806Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:13.826Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:13.793Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=37a26059767c1ba90bc2ab8a666478f8, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=1f926b07747b1cfa16c8232687e6c8c2, .prepare_op=189 }
2026-01-23 20:17:13.826Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:13.799Z debug(replica): 1n: on_message: view=2 status=normal RequestPrepare{ .checksum=7e3569429afb61445383a9a5bf0b6ad1, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=fc9c8cbdef2477bc6860309adb28e299, .prepare_op=187 }
2026-01-23 20:17:16.362Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=7e3569429afb61445383a9a5bf0b6ad1, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=fc9c8cbdef2477bc6860309adb28e299, .prepare_op=187 }
2026-01-23 20:17:16.362Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:16.362Z debug(client_replies): 1: write_reply: wrote (client=20646316583567733131642247745484281958 request=157)
2026-01-23 20:17:16.362Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:16.362Z debug(replica): 0n: commit_journal: already committing (reply_setup; commit_min=164)
2026-01-23 20:17:16.362Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=812bf6dc2ad53c0f30b0a250eb8515b0, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=b2e5ac0d0edcf4a3823a9eda3191f533, .prepare_op=188 }
2026-01-23 20:17:16.362Z debug(compaction): AccountEvent:0: beat_complete: quota_beat_done=5263 quota_beat=5263 quota_bar_done=154694 quota_bar=154694
2026-01-23 20:17:16.362Z debug(compaction): 1: Account.id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.362Z debug(compaction): 1: Account.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.362Z debug(compaction): 1: Account.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.362Z debug(compaction): 1: Account.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.362Z debug(client_replies): 0: write_reply: wrote (client=20646316583567733131642247745484281958 request=161)
2026-01-23 20:17:16.362Z debug(compaction): 1: Account.ledger:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.362Z debug(compaction): 1: Account.code:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.362Z debug(compaction): 1: Account:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.362Z debug(compaction): 1: Transfer.id:0: beat_commence: bar quota=155075 fulfilled, done=155075
2026-01-23 20:17:16.362Z debug(compaction): 1: Transfer.debit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:16.362Z debug(compaction): 1: Transfer.credit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:16.362Z debug(compaction): 1: Transfer.amount:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:16.362Z debug(compaction): 1: Transfer.pending_id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.362Z debug(compaction): 1: Transfer.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.362Z debug(compaction): 1: Transfer.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.362Z debug(compaction): 1: Transfer.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.363Z debug(compaction): 1: Transfer.ledger:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:16.363Z debug(compaction): 1: Transfer.code:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:16.363Z debug(compaction): 1: Transfer:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:16.363Z debug(compaction): 1: Transfer.expires_at:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.363Z debug(compaction): 1: TransferPending:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.363Z debug(compaction): 1: TransferPending.status:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.363Z debug(compaction): 1: AccountEvent:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:16.363Z debug(compaction): 1: Account.imported:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.363Z debug(replica): 0n: execute_op: executing view=2 primary=false op=165 checksum=74c79531babb09a2cd9ef86f2a9d8767 (create_transfers)
2026-01-23 20:17:16.363Z debug(compaction): 1: Transfer.imported:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.363Z debug(replica): 0n: execute_op: commit_timestamp=1769199257261707532 prepare.header.timestamp=1769199257322707336
2026-01-23 20:17:16.363Z debug(compaction): 1: Account.closed:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.363Z debug(compaction): 1: Transfer.closing:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.363Z debug(compaction): 1: AccountEvent.account_timestamp:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.363Z debug(replica): 2N: on_message: view=2 status=normal Request{ .checksum=0428f79174f1e8362283f6728f5aeec9, .checksum_body=6535cd7a00eab6ed9c76dff0b513cec4, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.request, .replica=0, .parent=3b52594a04401fd494b7edbc45632967, .client=20646316583567733131642247745484281958, .session=2, .timestamp=0, .request=197, .operation=vsr.Operation(141), .previous_request_latency=77335136 }
2026-01-23 20:17:16.363Z debug(replica): 2N: on_request: new request
2026-01-23 20:17:16.363Z debug(replica): 2N: on_request: ignoring (already preparing)
2026-01-23 20:17:16.363Z debug(replica): 1n: on_message: view=2 status=normal Request{ .checksum=0428f79174f1e8362283f6728f5aeec9, .checksum_body=6535cd7a00eab6ed9c76dff0b513cec4, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.request, .replica=0, .parent=3b52594a04401fd494b7edbc45632967, .client=20646316583567733131642247745484281958, .session=2, .timestamp=0, .request=197, .operation=vsr.Operation(141), .previous_request_latency=77335136 }
2026-01-23 20:17:16.363Z debug(replica): 1n: on_request: forwarding new request to primary (view=2)
2026-01-23 20:17:16.363Z debug(replica): 2N: on_request_prepare_read: op=188 checksum=b2e5ac0d0edcf4a3823a9eda3191f533 sending to replica=0
2026-01-23 20:17:16.363Z debug(replica): 1n: sending request to replica 2: Request{ .checksum=0428f79174f1e8362283f6728f5aeec9, .checksum_body=6535cd7a00eab6ed9c76dff0b513cec4, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.request, .replica=0, .parent=3b52594a04401fd494b7edbc45632967, .client=20646316583567733131642247745484281958, .session=2, .timestamp=0, .request=197, .operation=vsr.Operation(141), .previous_request_latency=77335136 }
2026-01-23 20:17:16.363Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=b2e5ac0d0edcf4a3823a9eda3191f533, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=fc9c8cbdef2477bc6860309adb28e299, .request_checksum=476b542788920d9e252b57a8f3efa319, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=188, .commit=187, .timestamp=1769199274974964251, .request=186, .operation=vsr.Operation(140) }
2026-01-23 20:17:16.363Z debug(replica): 1n: on_message: view=2 status=normal RequestPrepare{ .checksum=fbb78ff0e4fce01523991ab9b2435fc8, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=7ff6cf3dba009784ed45b9a24b2f8eff, .prepare_op=186 }
2026-01-23 20:17:16.363Z debug(replica): 1n: on_message: view=2 status=normal RequestPrepare{ .checksum=37a26059767c1ba90bc2ab8a666478f8, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=1f926b07747b1cfa16c8232687e6c8c2, .prepare_op=189 }
2026-01-23 20:17:16.364Z debug(replica): 2N: on_request_prepare_read: op=187 checksum=fc9c8cbdef2477bc6860309adb28e299 sending to replica=0
2026-01-23 20:17:16.364Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=fc9c8cbdef2477bc6860309adb28e299, .checksum_body=af31dfd7149338de8ef03fb588bdc66f, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=7ff6cf3dba009784ed45b9a24b2f8eff, .request_checksum=d1bfe9a4b29af5ccba5fee027045d353, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=187, .commit=186, .timestamp=1769199274953273755, .request=185, .operation=vsr.Operation(141) }
2026-01-23 20:17:16.365Z debug(replica): 2N: on_message: view=2 status=normal Request{ .checksum=0428f79174f1e8362283f6728f5aeec9, .checksum_body=6535cd7a00eab6ed9c76dff0b513cec4, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.request, .replica=0, .parent=3b52594a04401fd494b7edbc45632967, .client=20646316583567733131642247745484281958, .session=2, .timestamp=0, .request=197, .operation=vsr.Operation(141), .previous_request_latency=77335136 }
2026-01-23 20:17:16.365Z debug(replica): 2N: on_request: new request
2026-01-23 20:17:16.365Z debug(replica): 2N: on_request: ignoring (already preparing)
2026-01-23 20:17:16.383Z debug(replica): 0n: client_table_entry_update: client=20646316583567733131642247745484281958 session=2 request=163
2026-01-23 20:17:16.383Z debug(replica): 0n: execute_op: replying to client: Reply{ .checksum=9346eb1cbf2d0fcc8650da84faaea0ca, .checksum_body=ea896edcb0f638197c53a5b6a59e1ab2, .cluster=0, .size=264, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=2313a143d61115d2b88385318578f5a1, .context=02a59e11e19076f88e54281572641220, .client=20646316583567733131642247745484281958, .op=165, .commit=165, .timestamp=1769199257322707336, .request=163, .operation=vsr.Operation(139) }
2026-01-23 20:17:16.383Z debug(replica): 0n: sending reply to client 20646316583567733131642247745484281958: Reply{ .checksum=4242af3744c63dde5343605145bae4b5, .checksum_body=ea896edcb0f638197c53a5b6a59e1ab2, .cluster=0, .size=264, .epoch=0, .view=2, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=2313a143d61115d2b88385318578f5a1, .context=02a59e11e19076f88e54281572641220, .client=20646316583567733131642247745484281958, .op=165, .commit=165, .timestamp=1769199257322707336, .request=163, .operation=vsr.Operation(139) }
2026-01-23 20:17:16.383Z debug(forest): entering forest.compact() op=165 constants.lsm_compaction_ops=32 first_beat=false last_half_beat=false half_beat=false last_beat=false
2026-01-23 20:17:16.383Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 unlocked
2026-01-23 20:17:16.383Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 locked
2026-01-23 20:17:16.383Z debug(journal): 0: write: view=1 slot=181 op=181 len=315520: 1fda0feb94a37af3f4b35f082d369c7c complete, marking clean
2026-01-23 20:17:16.383Z debug(replica): 0n: send_prepare_ok: op=181 checksum=1fda0feb94a37af3f4b35f082d369c7c
2026-01-23 20:17:16.383Z debug(replica): 0n: sending prepare_ok to replica 2: PrepareOk{ .checksum=0e153eccf69dece02ceafb42cd4b2b59, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=5c753a207b3384ff814c657c30a607c0, .prepare_checksum=1fda0feb94a37af3f4b35f082d369c7c, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=181, .commit_min=165, .timestamp=1769199270214251833, .request=179, .operation=vsr.Operation(139) }
2026-01-23 20:17:16.383Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=193986560 len=413696 unlocked
2026-01-23 20:17:16.383Z debug(journal): 0: write_header: op=185 sectors[45056..49152]
2026-01-23 20:17:16.387Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:16.387Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:16.387Z debug(replica): 2N: on_message: view=2 status=normal PrepareOk{ .checksum=0e153eccf69dece02ceafb42cd4b2b59, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=5c753a207b3384ff814c657c30a607c0, .prepare_checksum=1fda0feb94a37af3f4b35f082d369c7c, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=181, .commit_min=165, .timestamp=1769199270214251833, .request=179, .operation=vsr.Operation(139) }
2026-01-23 20:17:16.387Z debug(replica): 2N: on_prepare_ok: not preparing op=181 checksum=1fda0feb94a37af3f4b35f082d369c7c
2026-01-23 20:17:16.388Z debug(replica): 1n: on_request_prepare_read: op=187 checksum=fc9c8cbdef2477bc6860309adb28e299 sending to replica=0
2026-01-23 20:17:16.388Z debug(replica): 1n: sending prepare to replica 0: Prepare{ .checksum=fc9c8cbdef2477bc6860309adb28e299, .checksum_body=af31dfd7149338de8ef03fb588bdc66f, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=7ff6cf3dba009784ed45b9a24b2f8eff, .request_checksum=d1bfe9a4b29af5ccba5fee027045d353, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=187, .commit=186, .timestamp=1769199274953273755, .request=185, .operation=vsr.Operation(141) }
2026-01-23 20:17:16.389Z debug(replica): 1n: on_request_prepare_read: op=189 checksum=1f926b07747b1cfa16c8232687e6c8c2 sending to replica=0
2026-01-23 20:17:16.389Z debug(replica): 1n: sending prepare to replica 0: Prepare{ .checksum=1f926b07747b1cfa16c8232687e6c8c2, .checksum_body=af31dfd7149338de8ef03fb588bdc66f, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=b2e5ac0d0edcf4a3823a9eda3191f533, .request_checksum=8e0a76c918ff99d2ec9b093e9a2c8338, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=189, .commit=188, .timestamp=1769199275006015395, .request=187, .operation=vsr.Operation(141) }
2026-01-23 20:17:16.389Z debug(replica): 1n: on_request_prepare_read: op=186 checksum=7ff6cf3dba009784ed45b9a24b2f8eff sending to replica=0
2026-01-23 20:17:16.389Z debug(replica): 1n: sending prepare to replica 0: Prepare{ .checksum=7ff6cf3dba009784ed45b9a24b2f8eff, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=3fc489f9d886990da1320e5d24ed1e06, .request_checksum=a42d6505d08edc4915abf354971d3784, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=186, .commit=185, .timestamp=1769199272633023199, .request=184, .operation=vsr.Operation(140) }
2026-01-23 20:17:16.389Z debug(vsr): 1: journal_repair_budget_timeout fired
2026-01-23 20:17:16.389Z debug(vsr): 1: journal_repair_budget_timeout reset
2026-01-23 20:17:16.389Z debug(compaction): AccountEvent.transfer_pending_status:0: beat_complete: quota_beat_done=154694 quota_beat=154694 quota_bar_done=154694 quota_bar=154694
2026-01-23 20:17:16.389Z debug(compaction): 1: Account.id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: Account.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: Account.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: Account.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: Account.ledger:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: Account.code:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: Account:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: Transfer.id:0: beat_commence: bar quota=155075 fulfilled, done=155075
2026-01-23 20:17:16.389Z debug(compaction): 1: Transfer.debit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:16.389Z debug(compaction): 1: Transfer.credit_account_id:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:16.389Z debug(compaction): 1: Transfer.amount:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:16.389Z debug(compaction): 1: Transfer.pending_id:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: Transfer.user_data_128:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: Transfer.user_data_64:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: Transfer.user_data_32:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: Transfer.ledger:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:16.389Z debug(compaction): 1: Transfer.code:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:16.389Z debug(compaction): 1: Transfer:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:16.389Z debug(compaction): 1: Transfer.expires_at:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: TransferPending:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: TransferPending.status:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: AccountEvent:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:16.389Z debug(compaction): 1: Account.imported:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: Transfer.imported:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: Account.closed:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: Transfer.closing:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: AccountEvent.account_timestamp:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: AccountEvent.transfer_pending_status:0: beat_commence: bar quota=154694 fulfilled, done=154694
2026-01-23 20:17:16.389Z debug(compaction): 1: AccountEvent.dr_account_id_expired:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: AccountEvent.cr_account_id_expired:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: AccountEvent.transfer_pending_id_expired:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.389Z debug(compaction): 1: AccountEvent.ledger_expired:0: beat_commence: bar quota=0 fulfilled, done=0
2026-01-23 20:17:16.393Z debug(replica): 0n: commit_start_journal: cached prepare op=166 checksum=78af100c74e3d588eb8618c0551aee3b
2026-01-23 20:17:16.393Z warning(clock): 0: synchronization failed, partitioned (sources=1 samples=1)
2026-01-23 20:17:16.393Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=195035136 len=4096 unlocked
2026-01-23 20:17:16.393Z debug(journal): 0: write_header: op=186 sectors[45056..49152]
2026-01-23 20:17:16.393Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=b2e5ac0d0edcf4a3823a9eda3191f533, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=fc9c8cbdef2477bc6860309adb28e299, .request_checksum=476b542788920d9e252b57a8f3efa319, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=188, .commit=187, .timestamp=1769199274974964251, .request=186, .operation=vsr.Operation(140) }
2026-01-23 20:17:16.393Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:16.393Z debug(replica): 0n: repair_header: op=188 checksum=b2e5ac0d0edcf4a3823a9eda3191f533 (checksum dirty)
2026-01-23 20:17:16.393Z debug(journal): 0: set_header_as_dirty: op=188 checksum=b2e5ac0d0edcf4a3823a9eda3191f533
2026-01-23 20:17:16.393Z debug(journal): 0: write: view=1 slot=188 op=188 len=2320: b2e5ac0d0edcf4a3823a9eda3191f533 starting
2026-01-23 20:17:16.393Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=197132288 len=4096 locked
2026-01-23 20:17:16.393Z debug(replica): 0n: on_repair: repairing journal op=188
2026-01-23 20:17:16.393Z debug(replica): 0n: commit_journal: already committing (reply_setup; commit_min=165)
2026-01-23 20:17:16.394Z debug(replica): 0n: repair_prepare: op=182 checksum=d4a744d75bae35cb7c0a5a79d4d7075e (already writing)
2026-01-23 20:17:16.394Z debug(replica): 0n: repair_prepare: op=183 checksum=5a23f302e9e9a0a10e8b24f9635e6c58 (already writing)
2026-01-23 20:17:16.394Z debug(replica): 0n: repair_prepare: op=184 checksum=e29951d5cdcca343baa33912a820a451 (already writing)
2026-01-23 20:17:16.394Z debug(replica): 0n: repair_prepare: op=185 checksum=3fc489f9d886990da1320e5d24ed1e06 (already writing)
2026-01-23 20:17:16.394Z debug(replica): 0n: repair_prepare: op=186 checksum=7ff6cf3dba009784ed45b9a24b2f8eff (already writing)
2026-01-23 20:17:16.394Z debug(replica): 0n: repair_prepare: op=188 checksum=b2e5ac0d0edcf4a3823a9eda3191f533 (already writing)
2026-01-23 20:17:16.394Z debug(replica): 0n: repair_prepare: op=189 checksum=1f926b07747b1cfa16c8232687e6c8c2 replica=2 latency=1083ms (committed, dirty, normal)
2026-01-23 20:17:16.394Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=37a26059767c1ba90bc2ab8a666478f8, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=1f926b07747b1cfa16c8232687e6c8c2, .prepare_op=189 }
2026-01-23 20:17:16.394Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:16.394Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:16.394Z debug(replica): 0n: commit_journal: already committing (reply_setup; commit_min=165)
2026-01-23 20:17:16.394Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=37a26059767c1ba90bc2ab8a666478f8, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=1f926b07747b1cfa16c8232687e6c8c2, .prepare_op=189 }
2026-01-23 20:17:16.394Z debug(client_replies): 0: write_reply: wrote (client=20646316583567733131642247745484281958 request=162)
2026-01-23 20:17:16.394Z debug(replica): 0n: execute_op: executing view=2 primary=false op=166 checksum=78af100c74e3d588eb8618c0551aee3b (lookup_accounts)
2026-01-23 20:17:16.394Z debug(replica): 0n: execute_op: commit_timestamp=1769199257322707336 prepare.header.timestamp=1769199257381451180
2026-01-23 20:17:16.394Z debug(replica): 0n: client_table_entry_update: client=20646316583567733131642247745484281958 session=2 request=164
2026-01-23 20:17:16.394Z debug(replica): 0n: execute_op: replying to client: Reply{ .checksum=b6769506dac317bc31322223b5634df7, .checksum_body=3a7fa85526e1d40a1e2c600a02043538, .cluster=0, .size=16768, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=6255264dd4728324569830c701d3e18d, .context=8c15475ee0c2f99073a44e97518c164a, .client=20646316583567733131642247745484281958, .op=166, .commit=166, .timestamp=1769199257381451180, .request=164, .operation=vsr.Operation(140) }
2026-01-23 20:17:16.394Z debug(replica): 0n: sending reply to client 20646316583567733131642247745484281958: Reply{ .checksum=2c556d03b5c9dd06062cacbffe228247, .checksum_body=3a7fa85526e1d40a1e2c600a02043538, .cluster=0, .size=16768, .epoch=0, .view=2, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=6255264dd4728324569830c701d3e18d, .context=8c15475ee0c2f99073a44e97518c164a, .client=20646316583567733131642247745484281958, .op=166, .commit=166, .timestamp=1769199257381451180, .request=164, .operation=vsr.Operation(140) }
2026-01-23 20:17:16.394Z debug(forest): entering forest.compact() op=166 constants.lsm_compaction_ops=32 first_beat=false last_half_beat=false half_beat=false last_beat=false
2026-01-23 20:17:16.394Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 unlocked
2026-01-23 20:17:16.394Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 locked
2026-01-23 20:17:16.394Z debug(journal): 0: write: view=1 slot=182 op=182 len=2320: d4a744d75bae35cb7c0a5a79d4d7075e complete, marking clean
2026-01-23 20:17:16.394Z debug(replica): 0n: send_prepare_ok: op=182 checksum=d4a744d75bae35cb7c0a5a79d4d7075e
2026-01-23 20:17:16.394Z debug(replica): 0n: sending prepare_ok to replica 2: PrepareOk{ .checksum=5d5b2eb6aa1d76d96edc2364747e96d7, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=1fda0feb94a37af3f4b35f082d369c7c, .prepare_checksum=d4a744d75bae35cb7c0a5a79d4d7075e, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=182, .commit_min=166, .timestamp=1769199270259953782, .request=180, .operation=vsr.Operation(140) }
2026-01-23 20:17:16.395Z debug(replica): 2N: on_request_prepare_read: op=189 checksum=1f926b07747b1cfa16c8232687e6c8c2 sending to replica=0
2026-01-23 20:17:16.395Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=1f926b07747b1cfa16c8232687e6c8c2, .checksum_body=af31dfd7149338de8ef03fb588bdc66f, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=b2e5ac0d0edcf4a3823a9eda3191f533, .request_checksum=8e0a76c918ff99d2ec9b093e9a2c8338, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=189, .commit=188, .timestamp=1769199275006015395, .request=187, .operation=vsr.Operation(141) }
2026-01-23 20:17:16.395Z debug(replica): 2N: on_message: view=2 status=normal PrepareOk{ .checksum=5d5b2eb6aa1d76d96edc2364747e96d7, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=1fda0feb94a37af3f4b35f082d369c7c, .prepare_checksum=d4a744d75bae35cb7c0a5a79d4d7075e, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=182, .commit_min=166, .timestamp=1769199270259953782, .request=180, .operation=vsr.Operation(140) }
2026-01-23 20:17:16.395Z debug(replica): 2N: on_prepare_ok: not preparing op=182 checksum=d4a744d75bae35cb7c0a5a79d4d7075e
2026-01-23 20:17:16.395Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=fc9c8cbdef2477bc6860309adb28e299, .checksum_body=af31dfd7149338de8ef03fb588bdc66f, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=7ff6cf3dba009784ed45b9a24b2f8eff, .request_checksum=d1bfe9a4b29af5ccba5fee027045d353, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=187, .commit=186, .timestamp=1769199274953273755, .request=185, .operation=vsr.Operation(141) }
2026-01-23 20:17:16.395Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:16.395Z debug(replica): 0n: repair_header: op=187 checksum=fc9c8cbdef2477bc6860309adb28e299 (checksum dirty)
2026-01-23 20:17:16.395Z debug(journal): 0: set_header_as_dirty: op=187 checksum=fc9c8cbdef2477bc6860309adb28e299
2026-01-23 20:17:16.395Z debug(journal): 0: write: view=1 slot=187 op=187 len=128944: fc9c8cbdef2477bc6860309adb28e299 starting
2026-01-23 20:17:16.395Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=196083712 len=131072 locked
2026-01-23 20:17:16.395Z debug(replica): 0n: on_repair: repairing journal op=187
2026-01-23 20:17:16.395Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=166)
2026-01-23 20:17:16.395Z debug(replica): 0n: repair_prepare: op=183 checksum=5a23f302e9e9a0a10e8b24f9635e6c58 (already writing)
2026-01-23 20:17:16.395Z debug(replica): 0n: repair_prepare: op=184 checksum=e29951d5cdcca343baa33912a820a451 (already writing)
2026-01-23 20:17:16.395Z debug(replica): 0n: repair_prepare: op=185 checksum=3fc489f9d886990da1320e5d24ed1e06 (already writing)
2026-01-23 20:17:16.395Z debug(replica): 0n: repair_prepare: op=186 checksum=7ff6cf3dba009784ed45b9a24b2f8eff (already writing)
2026-01-23 20:17:16.395Z debug(replica): 0n: repair_prepare: op=187 checksum=fc9c8cbdef2477bc6860309adb28e299 (already writing)
2026-01-23 20:17:16.395Z debug(replica): 0n: repair_prepare: op=188 checksum=b2e5ac0d0edcf4a3823a9eda3191f533 (already writing)
2026-01-23 20:17:16.395Z debug(replica): 0n: repair_prepare: op=190 checksum=4dff58cd900b6350cbdfeb7f9e9f4a53 replica=1 latency=1145ms (committed, dirty, normal)
2026-01-23 20:17:16.395Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=5c22f448a073c01ea8db8d4afac1f5a3, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=4dff58cd900b6350cbdfeb7f9e9f4a53, .prepare_op=190 }
2026-01-23 20:17:16.395Z debug(replica): 0n: repair_prepare: op=191 checksum=bbad7db448d32d225fcc48f22953532c replica=2 latency=1388ms (committed, dirty, normal)
2026-01-23 20:17:16.395Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=0c234628f35a9c3217dada341687557b, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=bbad7db448d32d225fcc48f22953532c, .prepare_op=191 }
2026-01-23 20:17:16.395Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:16.395Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:16.395Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=0c234628f35a9c3217dada341687557b, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=bbad7db448d32d225fcc48f22953532c, .prepare_op=191 }
2026-01-23 20:17:16.395Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=166)
2026-01-23 20:17:16.396Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=fc9c8cbdef2477bc6860309adb28e299, .checksum_body=af31dfd7149338de8ef03fb588bdc66f, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=7ff6cf3dba009784ed45b9a24b2f8eff, .request_checksum=d1bfe9a4b29af5ccba5fee027045d353, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=187, .commit=186, .timestamp=1769199274953273755, .request=185, .operation=vsr.Operation(141) }
2026-01-23 20:17:16.396Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:16.396Z debug(replica): 0n: repair_header: op=187 checksum=fc9c8cbdef2477bc6860309adb28e299 (checksum dirty)
2026-01-23 20:17:16.396Z debug(journal): 0: set_header_as_dirty: op=187 checksum=fc9c8cbdef2477bc6860309adb28e299
2026-01-23 20:17:16.396Z debug(replica): 0n: write_prepare: ignoring op=187 checksum=fc9c8cbdef2477bc6860309adb28e299 (already writing exact)
2026-01-23 20:17:16.396Z debug(replica): 0n: commit_start_journal: cached prepare op=167 checksum=540d27aea2b3942d4defb79488439780
2026-01-23 20:17:16.397Z debug(replica): 2N: on_request_prepare_read: op=191 checksum=bbad7db448d32d225fcc48f22953532c sending to replica=0
2026-01-23 20:17:16.397Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=bbad7db448d32d225fcc48f22953532c, .checksum_body=c9e407446ed15ba78406e6b89ae2e4fb, .cluster=0, .size=388480, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=4dff58cd900b6350cbdfeb7f9e9f4a53, .request_checksum=ac6b297d138c19337458ac36ef45cf5b, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=191, .commit=190, .timestamp=1769199277361641506, .request=189, .operation=vsr.Operation(139) }
2026-01-23 20:17:16.398Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=197132288 len=4096 unlocked
2026-01-23 20:17:16.398Z debug(journal): 0: write_header: op=188 sectors[45056..49152]
2026-01-23 20:17:16.398Z debug(replica): 1n: on_message: view=2 status=normal RequestPrepare{ .checksum=5c22f448a073c01ea8db8d4afac1f5a3, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=4dff58cd900b6350cbdfeb7f9e9f4a53, .prepare_op=190 }
2026-01-23 20:17:16.398Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=1f926b07747b1cfa16c8232687e6c8c2, .checksum_body=af31dfd7149338de8ef03fb588bdc66f, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=b2e5ac0d0edcf4a3823a9eda3191f533, .request_checksum=8e0a76c918ff99d2ec9b093e9a2c8338, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=189, .commit=188, .timestamp=1769199275006015395, .request=187, .operation=vsr.Operation(141) }
2026-01-23 20:17:16.398Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:16.398Z debug(replica): 0n: repair_header: op=189 checksum=1f926b07747b1cfa16c8232687e6c8c2 (checksum dirty)
2026-01-23 20:17:16.398Z debug(journal): 0: set_header_as_dirty: op=189 checksum=1f926b07747b1cfa16c8232687e6c8c2
2026-01-23 20:17:16.398Z debug(journal): 0: write: view=1 slot=189 op=189 len=128944: 1f926b07747b1cfa16c8232687e6c8c2 starting
2026-01-23 20:17:16.398Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=198180864 len=131072 locked
2026-01-23 20:17:16.398Z debug(replica): 0n: on_repair: repairing journal op=189
2026-01-23 20:17:16.398Z debug(replica): 0n: commit_journal: already committing (reply_setup; commit_min=166)
2026-01-23 20:17:16.398Z debug(replica): 0n: repair_prepare: op=183 checksum=5a23f302e9e9a0a10e8b24f9635e6c58 (already writing)
2026-01-23 20:17:16.398Z debug(replica): 0n: repair_prepare: op=184 checksum=e29951d5cdcca343baa33912a820a451 (already writing)
2026-01-23 20:17:16.398Z debug(replica): 0n: repair_prepare: op=185 checksum=3fc489f9d886990da1320e5d24ed1e06 (already writing)
2026-01-23 20:17:16.398Z debug(replica): 0n: repair_prepare: op=186 checksum=7ff6cf3dba009784ed45b9a24b2f8eff (already writing)
2026-01-23 20:17:16.398Z debug(replica): 0n: repair_prepare: op=187 checksum=fc9c8cbdef2477bc6860309adb28e299 (already writing)
2026-01-23 20:17:16.398Z debug(replica): 0n: repair_prepare: op=188 checksum=b2e5ac0d0edcf4a3823a9eda3191f533 (already writing)
2026-01-23 20:17:16.398Z debug(replica): 0n: repair_prepare: op=189 checksum=1f926b07747b1cfa16c8232687e6c8c2 (already writing)
2026-01-23 20:17:16.398Z debug(replica): 0n: repair_prepare: op=190 checksum=4dff58cd900b6350cbdfeb7f9e9f4a53 replica=2 latency=1111ms (committed, dirty, normal)
2026-01-23 20:17:16.398Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=5c22f448a073c01ea8db8d4afac1f5a3, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=4dff58cd900b6350cbdfeb7f9e9f4a53, .prepare_op=190 }
2026-01-23 20:17:16.399Z debug(replica): 0n: repair_prepare: op=191 checksum=bbad7db448d32d225fcc48f22953532c replica=1 latency=1437ms (committed, dirty, normal)
2026-01-23 20:17:16.399Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=5c22f448a073c01ea8db8d4afac1f5a3, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=4dff58cd900b6350cbdfeb7f9e9f4a53, .prepare_op=190 }
2026-01-23 20:17:16.399Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=0c234628f35a9c3217dada341687557b, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=bbad7db448d32d225fcc48f22953532c, .prepare_op=191 }
2026-01-23 20:17:16.399Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:16.399Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:16.399Z debug(replica): 0n: commit_journal: already committing (reply_setup; commit_min=166)
2026-01-23 20:17:16.399Z debug(replica): 2N: on_request_prepare_read: op=190 checksum=4dff58cd900b6350cbdfeb7f9e9f4a53 sending to replica=0
2026-01-23 20:17:16.399Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=4dff58cd900b6350cbdfeb7f9e9f4a53, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=1f926b07747b1cfa16c8232687e6c8c2, .request_checksum=9a4a41baad32159af6d0409bf9e77438, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=190, .commit=189, .timestamp=1769199275032120770, .request=188, .operation=vsr.Operation(140) }
2026-01-23 20:17:16.399Z debug(compaction): AccountEvent.prunable:0: beat_complete: quota_beat_done=128787 quota_beat=128787 quota_bar_done=128787 quota_bar=128787
2026-01-23 20:17:16.399Z debug(replica): 1n: on_request_prepare_read: op=190 checksum=4dff58cd900b6350cbdfeb7f9e9f4a53 sending to replica=0
2026-01-23 20:17:16.399Z debug(replica): 1n: sending prepare to replica 0: Prepare{ .checksum=4dff58cd900b6350cbdfeb7f9e9f4a53, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=1f926b07747b1cfa16c8232687e6c8c2, .request_checksum=9a4a41baad32159af6d0409bf9e77438, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=190, .commit=189, .timestamp=1769199275032120770, .request=188, .operation=vsr.Operation(140) }
2026-01-23 20:17:16.399Z debug(compaction): Transfer.id:0: bar_complete: values_in=155075 values_out=155075 values_dropped=0
2026-01-23 20:17:16.399Z debug(manifest_log): 1: insert: level=0 tree=8 checksum=7b534005ac2c6a20bd98fe3db797a80f address=11 snapshot=160..18446744073709551615
2026-01-23 20:17:16.399Z debug(compaction): Transfer.debit_account_id:0: bar_complete: values_in=154694 values_out=154694 values_dropped=0
2026-01-23 20:17:16.399Z debug(manifest_log): 1: insert: level=0 tree=9 checksum=d356a30be0f0c1bd46e02ce3825a5536 address=22 snapshot=160..18446744073709551615
2026-01-23 20:17:16.399Z debug(compaction): Transfer.credit_account_id:0: bar_complete: values_in=154694 values_out=154694 values_dropped=0
2026-01-23 20:17:16.399Z debug(manifest_log): 1: insert: level=0 tree=10 checksum=1083d9dfb4c2350995e84d5902f1d5f3 address=33 snapshot=160..18446744073709551615
2026-01-23 20:17:16.399Z debug(compaction): Transfer.amount:0: bar_complete: values_in=154694 values_out=154694 values_dropped=0
2026-01-23 20:17:16.399Z debug(manifest_log): 1: insert: level=0 tree=11 checksum=93fb67becb6c0cb59c4fd2c0d0924ca8 address=44 snapshot=160..18446744073709551615
2026-01-23 20:17:16.399Z debug(compaction): Transfer.ledger:0: bar_complete: values_in=154694 values_out=154694 values_dropped=0
2026-01-23 20:17:16.399Z debug(manifest_log): 1: insert: level=0 tree=16 checksum=c86bbf250486f681bab20586b1bc27fe address=50 snapshot=160..18446744073709551615
2026-01-23 20:17:16.399Z debug(compaction): Transfer.code:0: bar_complete: values_in=154694 values_out=154694 values_dropped=0
2026-01-23 20:17:16.399Z debug(manifest_log): 1: insert: level=0 tree=17 checksum=46d62eb9db4604d2abfa4594eb5a5405 address=56 snapshot=160..18446744073709551615
2026-01-23 20:17:16.399Z debug(compaction): Transfer:0: bar_complete: values_in=154694 values_out=154694 values_dropped=0
2026-01-23 20:17:16.399Z debug(manifest_log): 1: insert: level=0 tree=18 checksum=4737c7702df749d19a200d2f3302cf86 address=95 snapshot=160..18446744073709551615
2026-01-23 20:17:16.399Z debug(compaction): AccountEvent:0: bar_complete: values_in=154694 values_out=154694 values_dropped=0
2026-01-23 20:17:16.399Z debug(manifest_log): 1: insert: level=0 tree=22 checksum=7c4e3bdadebba6be2e960189d18a01dc address=173 snapshot=160..18446744073709551615
2026-01-23 20:17:16.399Z debug(compaction): AccountEvent.transfer_pending_status:0: bar_complete: values_in=154694 values_out=154694 values_dropped=0
2026-01-23 20:17:16.399Z debug(manifest_log): 1: insert: level=0 tree=28 checksum=738c3711b492ea9d3570c27908a29e97 address=179 snapshot=160..18446744073709551615
2026-01-23 20:17:16.399Z debug(compaction): AccountEvent.prunable:0: bar_complete: values_in=128787 values_out=128787 values_dropped=0
2026-01-23 20:17:16.399Z debug(manifest_log): 1: insert: level=0 tree=33 checksum=4b87dbd3175b84bfd90a6d0253830ef7 address=182 snapshot=160..18446744073709551615
2026-01-23 20:17:16.399Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=1f926b07747b1cfa16c8232687e6c8c2, .checksum_body=af31dfd7149338de8ef03fb588bdc66f, .cluster=0, .size=128944, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=b2e5ac0d0edcf4a3823a9eda3191f533, .request_checksum=8e0a76c918ff99d2ec9b093e9a2c8338, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=189, .commit=188, .timestamp=1769199275006015395, .request=187, .operation=vsr.Operation(141) }
2026-01-23 20:17:16.399Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:16.399Z debug(replica): 0n: repair_header: op=189 checksum=1f926b07747b1cfa16c8232687e6c8c2 (checksum dirty)
2026-01-23 20:17:16.399Z debug(journal): 0: set_header_as_dirty: op=189 checksum=1f926b07747b1cfa16c8232687e6c8c2
2026-01-23 20:17:16.399Z debug(replica): 0n: write_prepare: ignoring op=189 checksum=1f926b07747b1cfa16c8232687e6c8c2 (already writing exact)
2026-01-23 20:17:16.399Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=7ff6cf3dba009784ed45b9a24b2f8eff, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=3fc489f9d886990da1320e5d24ed1e06, .request_checksum=a42d6505d08edc4915abf354971d3784, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=186, .commit=185, .timestamp=1769199272633023199, .request=184, .operation=vsr.Operation(140) }
2026-01-23 20:17:16.399Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:16.399Z debug(replica): 0n: repair_header: op=186 checksum=7ff6cf3dba009784ed45b9a24b2f8eff (checksum dirty)
2026-01-23 20:17:16.399Z debug(journal): 0: set_header_as_dirty: op=186 checksum=7ff6cf3dba009784ed45b9a24b2f8eff
2026-01-23 20:17:16.399Z debug(replica): 0n: write_prepare: ignoring op=186 checksum=7ff6cf3dba009784ed45b9a24b2f8eff (already writing exact)
2026-01-23 20:17:16.400Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 unlocked
2026-01-23 20:17:16.400Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 locked
2026-01-23 20:17:16.400Z debug(journal): 0: write: view=1 slot=183 op=183 len=128944: 5a23f302e9e9a0a10e8b24f9635e6c58 complete, marking clean
2026-01-23 20:17:16.400Z debug(replica): 0n: send_prepare_ok: op=183 checksum=5a23f302e9e9a0a10e8b24f9635e6c58
2026-01-23 20:17:16.400Z debug(replica): 0n: sending prepare_ok to replica 2: PrepareOk{ .checksum=d15bec78cf92512df660203b1b824a18, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=d4a744d75bae35cb7c0a5a79d4d7075e, .prepare_checksum=5a23f302e9e9a0a10e8b24f9635e6c58, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=183, .commit_min=166, .timestamp=1769199272526302888, .request=181, .operation=vsr.Operation(141) }
2026-01-23 20:17:16.400Z debug(replica): 2N: on_message: view=2 status=normal PrepareOk{ .checksum=d15bec78cf92512df660203b1b824a18, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=d4a744d75bae35cb7c0a5a79d4d7075e, .prepare_checksum=5a23f302e9e9a0a10e8b24f9635e6c58, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=183, .commit_min=166, .timestamp=1769199272526302888, .request=181, .operation=vsr.Operation(141) }
2026-01-23 20:17:16.400Z debug(replica): 2N: on_prepare_ok: not preparing op=183 checksum=5a23f302e9e9a0a10e8b24f9635e6c58
2026-01-23 20:17:16.400Z debug(client_replies): 0: write_reply: wrote (client=20646316583567733131642247745484281958 request=163)
2026-01-23 20:17:16.400Z debug(replica): 0n: execute_op: executing view=2 primary=false op=167 checksum=540d27aea2b3942d4defb79488439780 (create_transfers)
2026-01-23 20:17:16.400Z debug(replica): 0n: execute_op: commit_timestamp=1769199257381451180 prepare.header.timestamp=1769199259874621314
2026-01-23 20:17:16.405Z debug(replica): 0n: client_table_entry_update: client=20646316583567733131642247745484281958 session=2 request=165
2026-01-23 20:17:16.405Z debug(replica): 0n: execute_op: replying to client: Reply{ .checksum=1e1b777535fd08eaa8f50c6fc454f54d, .checksum_body=ea896edcb0f638197c53a5b6a59e1ab2, .cluster=0, .size=264, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=12a13cd213baced746d706fdbf210347, .context=8dfb2d99ee9dabf7183c621b31c94dfd, .client=20646316583567733131642247745484281958, .op=167, .commit=167, .timestamp=1769199259874621314, .request=165, .operation=vsr.Operation(139) }
2026-01-23 20:17:16.405Z debug(replica): 0n: sending reply to client 20646316583567733131642247745484281958: Reply{ .checksum=c11e1eb40a3fdedeac33b0daef32856e, .checksum_body=ea896edcb0f638197c53a5b6a59e1ab2, .cluster=0, .size=264, .epoch=0, .view=2, .release=0.0.1, .protocol=0, .command=vsr.Command.reply, .replica=1, .request_checksum=12a13cd213baced746d706fdbf210347, .context=8dfb2d99ee9dabf7183c621b31c94dfd, .client=20646316583567733131642247745484281958, .op=167, .commit=167, .timestamp=1769199259874621314, .request=165, .operation=vsr.Operation(139) }
2026-01-23 20:17:16.405Z debug(forest): entering forest.compact() op=167 constants.lsm_compaction_ops=32 first_beat=false last_half_beat=false half_beat=false last_beat=false
2026-01-23 20:17:16.405Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=196083712 len=131072 unlocked
2026-01-23 20:17:16.405Z debug(journal): 0: write_header: op=187 sectors[45056..49152]
2026-01-23 20:17:16.405Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=4dff58cd900b6350cbdfeb7f9e9f4a53, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=1f926b07747b1cfa16c8232687e6c8c2, .request_checksum=9a4a41baad32159af6d0409bf9e77438, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=190, .commit=189, .timestamp=1769199275032120770, .request=188, .operation=vsr.Operation(140) }
2026-01-23 20:17:16.405Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:16.405Z debug(replica): 0n: repair_header: op=190 checksum=4dff58cd900b6350cbdfeb7f9e9f4a53 (checksum dirty)
2026-01-23 20:17:16.405Z debug(journal): 0: set_header_as_dirty: op=190 checksum=4dff58cd900b6350cbdfeb7f9e9f4a53
2026-01-23 20:17:16.405Z debug(journal): 0: write: view=1 slot=190 op=190 len=2320: 4dff58cd900b6350cbdfeb7f9e9f4a53 starting
2026-01-23 20:17:16.405Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=199229440 len=4096 locked
2026-01-23 20:17:16.405Z debug(replica): 0n: on_repair: repairing journal op=190
2026-01-23 20:17:16.405Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=167)
2026-01-23 20:17:16.405Z debug(forest): swap_mutable_and_immutable(Account.id)
2026-01-23 20:17:16.405Z debug(forest): swap_mutable_and_immutable(Account.user_data_128)
2026-01-23 20:17:16.405Z debug(forest): swap_mutable_and_immutable(Account.user_data_64)
2026-01-23 20:17:16.405Z debug(forest): swap_mutable_and_immutable(Account.user_data_32)
2026-01-23 20:17:16.405Z debug(forest): swap_mutable_and_immutable(Account.ledger)
2026-01-23 20:17:16.405Z debug(forest): swap_mutable_and_immutable(Account.code)
2026-01-23 20:17:16.405Z debug(forest): swap_mutable_and_immutable(Account)
2026-01-23 20:17:16.405Z debug(replica): 0n: repair_prepare: op=184 checksum=e29951d5cdcca343baa33912a820a451 (already writing)
2026-01-23 20:17:16.405Z debug(replica): 0n: repair_prepare: op=185 checksum=3fc489f9d886990da1320e5d24ed1e06 (already writing)
2026-01-23 20:17:16.405Z debug(replica): 0n: repair_prepare: op=186 checksum=7ff6cf3dba009784ed45b9a24b2f8eff (already writing)
2026-01-23 20:17:16.405Z debug(replica): 0n: repair_prepare: op=187 checksum=fc9c8cbdef2477bc6860309adb28e299 (already writing)
2026-01-23 20:17:16.405Z debug(replica): 0n: repair_prepare: op=188 checksum=b2e5ac0d0edcf4a3823a9eda3191f533 (already writing)
2026-01-23 20:17:16.405Z debug(replica): 0n: repair_prepare: op=189 checksum=1f926b07747b1cfa16c8232687e6c8c2 (already writing)
2026-01-23 20:17:16.405Z debug(replica): 0n: repair_prepare: op=190 checksum=4dff58cd900b6350cbdfeb7f9e9f4a53 (already writing)
2026-01-23 20:17:16.405Z debug(replica): 0n: repair_prepare: op=192 checksum=380acba1dbdcfafdcf7dd380b38df2db replica=2 latency=890ms (committed, dirty, normal)
2026-01-23 20:17:16.406Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=c595cc72ab431c769470481a0bb0ba25, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=380acba1dbdcfafdcf7dd380b38df2db, .prepare_op=192 }
2026-01-23 20:17:16.406Z debug(replica): 0n: repair_prepare: op=193 checksum=6b835fc553bc97b7babc46fbbb211c18 replica=1 latency=1151ms (committed, dirty, normal)
2026-01-23 20:17:16.406Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=3b8daa5ee9d90bc598aa3af4e0ce28e3, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=6b835fc553bc97b7babc46fbbb211c18, .prepare_op=193 }
2026-01-23 20:17:16.406Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:16.406Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:16.406Z debug(replica): 0n: commit_journal: already committing (compact; commit_min=167)
2026-01-23 20:17:16.406Z debug(forest): swap_mutable_and_immutable(Transfer.id)
2026-01-23 20:17:16.406Z debug(forest): swap_mutable_and_immutable(Transfer.debit_account_id)
2026-01-23 20:17:16.408Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:16.408Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:16.408Z debug(vsr): 2: journal_repair_timeout fired
2026-01-23 20:17:16.408Z debug(vsr): 2: journal_repair_timeout reset
2026-01-23 20:17:16.408Z debug(vsr): 2: pulse_timeout fired
2026-01-23 20:17:16.408Z debug(vsr): 2: pulse_timeout reset
2026-01-23 20:17:16.409Z debug(replica): 0n: commit_start_journal: cached prepare op=168 checksum=2dbe4b7b9291b315e839fd2eeeecbab7
2026-01-23 20:17:16.409Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=198180864 len=131072 unlocked
2026-01-23 20:17:16.409Z debug(journal): 0: write_header: op=189 sectors[45056..49152]
2026-01-23 20:17:16.410Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=bbad7db448d32d225fcc48f22953532c, .checksum_body=c9e407446ed15ba78406e6b89ae2e4fb, .cluster=0, .size=388480, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=4dff58cd900b6350cbdfeb7f9e9f4a53, .request_checksum=ac6b297d138c19337458ac36ef45cf5b, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=191, .commit=190, .timestamp=1769199277361641506, .request=189, .operation=vsr.Operation(139) }
2026-01-23 20:17:16.410Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:16.411Z debug(replica): 0n: repair_header: op=191 checksum=bbad7db448d32d225fcc48f22953532c (checksum dirty)
2026-01-23 20:17:16.411Z debug(journal): 0: set_header_as_dirty: op=191 checksum=bbad7db448d32d225fcc48f22953532c
2026-01-23 20:17:16.411Z debug(journal): 0: write: view=1 slot=191 op=191 len=388480: bbad7db448d32d225fcc48f22953532c starting
2026-01-23 20:17:16.411Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=200278016 len=389120 locked
2026-01-23 20:17:16.411Z debug(replica): 0n: on_repair: repairing journal op=191
2026-01-23 20:17:16.411Z debug(replica): 0n: commit_journal: already committing (reply_setup; commit_min=167)
2026-01-23 20:17:16.411Z debug(replica): 0n: repair_prepare: op=184 checksum=e29951d5cdcca343baa33912a820a451 (already writing)
2026-01-23 20:17:16.411Z debug(replica): 0n: repair_prepare: op=185 checksum=3fc489f9d886990da1320e5d24ed1e06 (already writing)
2026-01-23 20:17:16.411Z debug(replica): 0n: repair_prepare: op=186 checksum=7ff6cf3dba009784ed45b9a24b2f8eff (already writing)
2026-01-23 20:17:16.411Z debug(replica): 0n: repair_prepare: op=187 checksum=fc9c8cbdef2477bc6860309adb28e299 (already writing)
2026-01-23 20:17:16.411Z debug(replica): 0n: repair_prepare: op=188 checksum=b2e5ac0d0edcf4a3823a9eda3191f533 (already writing)
2026-01-23 20:17:16.411Z debug(replica): 0n: repair_prepare: op=189 checksum=1f926b07747b1cfa16c8232687e6c8c2 (already writing)
2026-01-23 20:17:16.411Z debug(replica): 0n: repair_prepare: op=190 checksum=4dff58cd900b6350cbdfeb7f9e9f4a53 (already writing)
2026-01-23 20:17:16.411Z debug(replica): 0n: repair_prepare: op=191 checksum=bbad7db448d32d225fcc48f22953532c (already writing)
2026-01-23 20:17:16.411Z debug(replica): 0n: repair_prepare: op=192 checksum=380acba1dbdcfafdcf7dd380b38df2db replica=1 latency=923ms (committed, dirty, normal)
2026-01-23 20:17:16.411Z debug(replica): 0n: sending request_prepare to replica 1: RequestPrepare{ .checksum=c595cc72ab431c769470481a0bb0ba25, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=380acba1dbdcfafdcf7dd380b38df2db, .prepare_op=192 }
2026-01-23 20:17:16.411Z debug(replica): 0n: repair_prepare: op=193 checksum=6b835fc553bc97b7babc46fbbb211c18 replica=2 latency=715ms (committed, dirty, normal)
2026-01-23 20:17:16.411Z debug(replica): 0n: sending request_prepare to replica 2: RequestPrepare{ .checksum=3b8daa5ee9d90bc598aa3af4e0ce28e3, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=6b835fc553bc97b7babc46fbbb211c18, .prepare_op=193 }
2026-01-23 20:17:16.411Z debug(replica): 0n: repair_prepares: repair budget used
2026-01-23 20:17:16.411Z debug(replica): 0n: repair_prepares: waiting for repair budget
2026-01-23 20:17:16.411Z debug(replica): 0n: commit_journal: already committing (reply_setup; commit_min=167)
2026-01-23 20:17:16.411Z debug(replica): 0n: on_message: view=2 status=normal Prepare{ .checksum=4dff58cd900b6350cbdfeb7f9e9f4a53, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=1f926b07747b1cfa16c8232687e6c8c2, .request_checksum=9a4a41baad32159af6d0409bf9e77438, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=190, .commit=189, .timestamp=1769199275032120770, .request=188, .operation=vsr.Operation(140) }
2026-01-23 20:17:16.411Z debug(replica): 0n: on_prepare: ignoring (repair)
2026-01-23 20:17:16.411Z debug(replica): 0n: repair_header: op=190 checksum=4dff58cd900b6350cbdfeb7f9e9f4a53 (checksum dirty)
2026-01-23 20:17:16.411Z debug(journal): 0: set_header_as_dirty: op=190 checksum=4dff58cd900b6350cbdfeb7f9e9f4a53
2026-01-23 20:17:16.411Z debug(replica): 0n: write_prepare: ignoring op=190 checksum=4dff58cd900b6350cbdfeb7f9e9f4a53 (already writing exact)
2026-01-23 20:17:16.411Z debug(client_replies): 0: write_reply: wrote (client=20646316583567733131642247745484281958 request=164)
2026-01-23 20:17:16.411Z debug(replica): 0n: execute_op: executing view=2 primary=false op=168 checksum=2dbe4b7b9291b315e839fd2eeeecbab7 (lookup_accounts)
2026-01-23 20:17:16.411Z debug(replica): 0n: execute_op: commit_timestamp=1769199259874621314 prepare.header.timestamp=1769199259905482421
2026-01-23 20:17:16.411Z debug(replica): 0n: client_table_entry_update: client=20646316583567733131642247745484281958 session=2 request=166
2026-01-23 20:17:16.411Z debug(forest): entering forest.compact() op=168 constants.lsm_compaction_ops=32 first_beat=false last_half_beat=false half_beat=false last_beat=false
2026-01-23 20:17:16.411Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.prepares offset=199229440 len=4096 unlocked
2026-01-23 20:17:16.411Z debug(journal): 0: write_header: op=190 sectors[45056..49152]
2026-01-23 20:17:16.411Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 unlocked
2026-01-23 20:17:16.418Z debug(forest): swap_mutable_and_immutable(Transfer.credit_account_id)
2026-01-23 20:17:16.411Z debug(journal): 0: write_sectors: ring=vsr.journal.Ring.headers offset=45056 len=4096 locked
2026-01-23 20:17:16.430Z debug(forest): swap_mutable_and_immutable(Transfer.amount)
2026-01-23 20:17:16.428Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:17.279Z error(supervisor): liveness check: no finished requests after 120 seconds
2026-01-23 20:17:18.535Z debug(journal): 0: write: view=1 slot=184 op=184 len=2320: e29951d5cdcca343baa33912a820a451 complete, marking clean
2026-01-23 20:17:18.535Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:18.535Z debug(replica): 0n: send_prepare_ok: op=184 checksum=e29951d5cdcca343baa33912a820a451
2026-01-23 20:17:18.535Z debug(replica): 0n: sending prepare_ok to replica 2: PrepareOk{ .checksum=607e07cd03b320c1bd5ce50386ae84d5, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=2, .release=0.0.0, .protocol=0, .command=vsr.Command.prepare_ok, .replica=0, .parent=5a23f302e9e9a0a10e8b24f9635e6c58, .prepare_checksum=e29951d5cdcca343baa33912a820a451, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=184, .commit_min=168, .timestamp=1769199272549945944, .request=182, .operation=vsr.Operation(140) }
2026-01-23 20:17:18.535Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=c595cc72ab431c769470481a0bb0ba25, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=380acba1dbdcfafdcf7dd380b38df2db, .prepare_op=192 }
2026-01-23 20:17:18.535Z debug(replica): 2N: on_message: view=2 status=normal RequestPrepare{ .checksum=3b8daa5ee9d90bc598aa3af4e0ce28e3, .checksum_body=49f174618255402de6e7e3c40d60cc83, .cluster=0, .size=256, .epoch=0, .view=0, .release=0.0.0, .protocol=0, .command=vsr.Command.request_prepare, .replica=0, .prepare_checksum=6b835fc553bc97b7babc46fbbb211c18, .prepare_op=193 }
2026-01-23 20:17:18.536Z debug(replica): 0n: commit_start_journal: cached prepare op=169 checksum=a39aef5dd107e22c9c842c91d7e8e087
2026-01-23 20:17:18.536Z info(supervisor): 0: terminating replica
2026-01-23 20:17:18.538Z debug(replica): 2N: on_request_prepare_read: op=193 checksum=6b835fc553bc97b7babc46fbbb211c18 sending to replica=0
2026-01-23 20:17:18.538Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=6b835fc553bc97b7babc46fbbb211c18, .checksum_body=9ba85212679a135473ed4cf264e89911, .cluster=0, .size=521472, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=380acba1dbdcfafdcf7dd380b38df2db, .request_checksum=6cc584268e2f0483d3f2cdb566ae8dc6, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=193, .commit=192, .timestamp=1769199277744010325, .request=191, .operation=vsr.Operation(139) }
2026-01-23 20:17:18.538Z debug(replica): 2N: on_request_prepare_read: op=192 checksum=380acba1dbdcfafdcf7dd380b38df2db sending to replica=0
2026-01-23 20:17:18.538Z debug(replica): 2N: sending prepare to replica 0: Prepare{ .checksum=380acba1dbdcfafdcf7dd380b38df2db, .checksum_body=427dd5cdceb1b685b54a4de212611b05, .cluster=0, .size=2320, .epoch=0, .view=1, .release=0.0.1, .protocol=0, .command=vsr.Command.prepare, .replica=1, .parent=bbad7db448d32d225fcc48f22953532c, .request_checksum=cdcdaa956e4c8ffd01df46534f0d1ff6, .checkpoint_id=00000000000000000000000000000000, .client=20646316583567733131642247745484281958, .op=192, .commit=191, .timestamp=1769199277550652400, .request=190, .operation=vsr.Operation(140) }
2026-01-23 20:17:18.549Z debug(forest): swap_mutable_and_immutable(Transfer.pending_id)
2026-01-23 20:17:18.549Z debug(forest): swap_mutable_and_immutable(Transfer.user_data_128)
2026-01-23 20:17:18.549Z debug(forest): swap_mutable_and_immutable(Transfer.user_data_64)
2026-01-23 20:17:18.549Z debug(forest): swap_mutable_and_immutable(Transfer.user_data_32)
2026-01-23 20:17:18.549Z debug(forest): swap_mutable_and_immutable(Transfer.ledger)
2026-01-23 20:17:18.549Z debug(forest): swap_mutable_and_immutable(Transfer.code)
2026-01-23 20:17:18.555Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:18.555Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:18.560Z debug(forest): swap_mutable_and_immutable(Transfer)
2026-01-23 20:17:18.560Z debug(forest): swap_mutable_and_immutable(Transfer.expires_at)
2026-01-23 20:17:18.560Z debug(forest): swap_mutable_and_immutable(TransferPending)
2026-01-23 20:17:18.560Z debug(forest): swap_mutable_and_immutable(TransferPending.status)
2026-01-23 20:17:18.560Z debug(forest): swap_mutable_and_immutable(AccountEvent)
2026-01-23 20:17:18.560Z debug(forest): swap_mutable_and_immutable(Account.imported)
2026-01-23 20:17:18.560Z debug(forest): swap_mutable_and_immutable(Transfer.imported)
2026-01-23 20:17:18.560Z debug(forest): swap_mutable_and_immutable(Account.closed)
2026-01-23 20:17:18.560Z debug(forest): swap_mutable_and_immutable(Transfer.closing)
2026-01-23 20:17:18.560Z debug(forest): swap_mutable_and_immutable(AccountEvent.account_timestamp)
2026-01-23 20:17:18.562Z info(supervisor): 1: terminating replica
2026-01-23 20:17:18.575Z debug(vsr): 2: journal_repair_budget_timeout fired
2026-01-23 20:17:18.575Z debug(vsr): 2: journal_repair_budget_timeout reset
2026-01-23 20:17:18.582Z info(supervisor): 2: terminating replica
2026-01-23 20:17:18.652Z error: TestFailed
/root/tigerbeetle/working/main/src/testing/vortex/supervisor.zig:291:21: 0x1307fe8 in run (vortex)
                    return error.TestFailed;
                    ^
/root/tigerbeetle/working/main/src/testing/vortex/supervisor.zig:208:5: 0x130cbe3 in main (vortex)
    try supervisor.run();
    ^
/root/tigerbeetle/working/main/src/vortex.zig:61:42: 0x1321844 in main (vortex)
        .supervisor => |supervisor_args| try Supervisor.main(allocator, supervisor_args),
                                         ^
warning(message_bus): 20646316583567733131642247745484281958: on_recv: from=vsr.Peer{ .replica = 1 } error.ConnectionResetByPeer
warning(message_bus): 20646316583567733131642247745484281958: on_recv: from=vsr.Peer{ .replica = 2 } error.ConnectionResetByPeer
